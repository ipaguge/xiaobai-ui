(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22950770","chunk-2f6bd076","chunk-6d783632","chunk-647121e7","chunk-46875557","chunk-b9d7a828","chunk-2d2105d3","chunk-2d230fe7"],{"065b":function(e,t,s){},"0949":function(e,t,s){"use strict";s("8d81")},"0a70":function(e,t,s){"use strict";s("d8c6")},"0c55":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"系统登录日志状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"ip地址",prop:"ipaddr"}},[s("el-input",{attrs:{placeholder:"请输入ip地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysLoginLog:remove"],expression:"['admin:sysLoginLog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.sysloginlogList},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"用户名",align:"center",prop:"username","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"类型",align:"center",prop:"msg","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.statusFormat(t.row))+" ")]}}])}),s("el-table-column",{attrs:{label:"ip地址",align:"center",prop:"ipaddr"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",[e._v("IP: "+e._s(t.row.ipaddr))]),s("p",[e._v("归属地: "+e._s(t.row.loginLocation))]),s("p",[e._v("浏览器: "+e._s(t.row.browser))]),s("p",[e._v("系统: "+e._s(t.row.os))]),s("p",[e._v("固件: "+e._s(t.row.platform))]),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.row.ipaddr)+" ")])])]}}])}),s("el-table-column",{attrs:{label:"登录时间",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysLoginLog:remove"],expression:"['admin:sysLoginLog:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("b775"));function i(e){return Object(n["a"])({url:"/api/v1/sys-login-log",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/api/v1/sys-login-log/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/api/v1/sys-login-log",method:"delete",data:e})}var c={name:"SysLoginLogManage",components:{},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,fileOpen:!1,fileIndex:void 0,typeOptions:[],sysloginlogList:[],statusOptions:[],queryParams:{pageIndex:1,pageSize:10,username:void 0,status:void 0,ipaddr:void 0,loginLocation:void 0,createdAtOrder:"desc"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,i(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.sysloginlogList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={ID:void 0,username:void 0,status:void 0,ipaddr:void 0,loginLocation:void 0,browser:void 0,os:void 0,platform:void 0,loginTime:void 0,remark:void 0,msg:void 0},this.resetForm("form")},getImgList:function(){this.form[this.fileIndex]=this.$refs["fileChoose"].resultList[0].fullUrl},fileClose:function(){this.fileOpen=!1},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加系统登录日志",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var s=e.id||this.ids;o(s).then((function(e){t.form=e.data,t.open=!0,t.title="修改系统登录日志",t.isEdit=!0}))},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},u=c,d=s("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},"0cda":function(e,t,s){},"0dee":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"48px"}},[s("el-form-item",{attrs:{label:"标题",prop:"title"}},[s("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),s("el-form-item",{attrs:{label:"地址",prop:"path"}},[s("el-input",{attrs:{placeholder:"请输入地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.path,callback:function(t){e.$set(e.queryParams,"path",t)},expression:"queryParams.path"}})],1),s("el-form-item",{attrs:{label:"Method",prop:"action"}},[s("el-select",{attrs:{placeholder:"请选择Method",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.action,callback:function(t){e.$set(e.queryParams,"action",t)},expression:"queryParams.action"}},[s("el-option",{attrs:{value:"GET"}},[e._v("GET")]),s("el-option",{attrs:{value:"POST"}},[e._v("POST")]),s("el-option",{attrs:{value:"PUT"}},[e._v("PUT")]),s("el-option",{attrs:{value:"DELETE"}},[e._v("DELETE")])],1)],1),s("el-form-item",{attrs:{label:"类型",prop:"type"}},[s("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},[s("el-option",{attrs:{value:"SYS"}},[e._v("SYS")]),s("el-option",{attrs:{value:"BUS"}},[e._v("BUS")]),s("el-option",{attrs:{value:"暂无"}},[e._v("暂无")])],1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.sysapiList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[s("el-table-column",{attrs:{label:"标题","header-align":"center",align:"left",prop:"title",fixed:"left",sortable:"custom",width:"260px","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["SYS"==t.row.type&&""!=t.row.title?s("span",[s("el-tag",{attrs:{type:"success"}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),"SYS"!=t.row.type&&""!=t.row.title?s("span",[s("el-tag",{attrs:{type:""}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),""==t.row.title?s("span",[s("el-tag",{attrs:{type:"danger"}},[e._v("暂无")])],1):e._e()]}}])}),s("el-table-column",{attrs:{label:"Request Info","header-align":"center",align:"left",prop:"path",sortable:"custom","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",["SYS"==t.row.type&&""!=t.row.title?s("span",[s("el-tag",{attrs:{type:"success"}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),"SYS"!=t.row.type&&""!=t.row.title?s("span",[s("el-tag",{attrs:{type:""}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),""==t.row.title?s("span",[s("el-tag",{attrs:{type:"danger"}},[e._v("暂无")])],1):e._e()]),s("p",[e._v("Handle: "+e._s(t.row.handle))]),s("p",[e._v("Method: "),"GET"==t.row.action?s("el-tag",[e._v(e._s(t.row.action))]):e._e(),"POST"==t.row.action?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.action))]):e._e(),"PUT"==t.row.action?s("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.action))]):e._e(),"DELETE"==t.row.action?s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.action))]):e._e()],1),s("p",[e._v("接口类型: "+e._s(t.row.type))]),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["GET"==t.row.action?s("el-tag",[e._v(e._s(t.row.action))]):e._e(),"POST"==t.row.action?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.action))]):e._e(),"PUT"==t.row.action?s("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.action))]):e._e(),"DELETE"==t.row.action?s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.action))]):e._e(),e._v(" "+e._s(t.row.path)+" ")],1)])]}}])}),s("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"155px",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center",width:"80px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysApi:edit"],expression:"['admin:sysApi:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改 ")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-drawer",{ref:"drawer",attrs:{title:e.title,"before-close":e.cancel,visible:e.open,direction:"rtl","custom-class":"demo-drawer"},on:{"update:visible":function(t){e.open=t}}},[s("div",{staticClass:"demo-drawer__content"},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"Handle",prop:"handle"}},[s("el-input",{attrs:{placeholder:"handle"},model:{value:e.form.handle,callback:function(t){e.$set(e.form,"handle",t)},expression:"form.handle"}})],1),s("el-form-item",{attrs:{label:"标题",prop:"title"}},[s("el-input",{attrs:{placeholder:"标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),s("el-form-item",{attrs:{label:"类型",prop:"type"}},[s("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[s("el-option",{attrs:{value:"SYS"}},[e._v("SYS")]),s("el-option",{attrs:{value:"BUS"}},[e._v("BUS")])],1)],1),s("el-form-item",{attrs:{label:"Method",prop:"action"}},[s("el-select",{attrs:{placeholder:"请选择方式",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.form.action,callback:function(t){e.$set(e.form,"action",t)},expression:"form.action"}},[s("el-option",{attrs:{value:"GET"}},[e._v("GET")]),s("el-option",{attrs:{value:"POST"}},[e._v("POST")]),s("el-option",{attrs:{value:"PUT"}},[e._v("PUT")]),s("el-option",{attrs:{value:"DELETE"}},[e._v("DELETE")])],1)],1),s("el-form-item",{attrs:{label:"地址",prop:"path"}},[s("el-input",{attrs:{disabled:e.isEdit,placeholder:"地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1)],1),s("div",{staticClass:"demo-drawer__footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)])],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("95b0")),i={name:"SysApiManage",components:{},data:function(){return{dialog:!1,loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],sysapiList:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,name:void 0,title:void 0,path:void 0,type:void 0,action:void 0,parentId:void 0},form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],path:[{required:!0,message:"地址不能为空",trigger:"blur"}],action:[{required:!0,message:"类型不能为空",trigger:"blur"}],parentId:[{required:!0,message:"按钮id不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{handleClose:function(e){this.loading||e()},getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.sysapiList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,title:void 0,path:void 0,paths:void 0,action:void 0,parentId:void 0,sort:void 0},this.resetForm("form")},parentIdFormat:function(e){return this.selectItemsLabel(this.parentIdOptions,e.parentId)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加接口管理",this.isEdit=!1},handleSortChang:function(e,t,s){t=e.prop,s=e.order,""!==this.order&&this.order!==t+"Order"&&(this.queryParams[this.order]=void 0),"descending"===s?(this.queryParams[t+"Order"]="desc",this.order=t+"Order"):"ascending"===s?(this.queryParams[t+"Order"]="asc",this.order=t+"Order"):this.queryParams[t+"Order"]=void 0,this.getList()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["c"])(s).then((function(e){t.form=e.data,t.open=!0,t.title="修改接口管理",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?Object(n["e"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},o=i,l=s("2877"),c=Object(l["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},"0e06":function(e,t,s){"use strict";s("4e5c")},"0fa8":function(e,t,s){},1:function(e,t){},1256:function(e,t,s){"use strict";s("4ed3")},1790:function(e,t,s){"use strict";s("b316")},"189a":function(e,t,s){"use strict";s.d(t,"d",(function(){return r})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return i})),s.d(t,"f",(function(){return o})),s.d(t,"b",(function(){return l})),s.d(t,"e",(function(){return c}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/dict/type",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/dict/type/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/api/v1/dict/type",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/api/v1/dict/type/"+e.id,method:"put",data:e})}function l(e){return Object(a["a"])({url:"/api/v1/dict/type",method:"delete",data:e})}function c(){return Object(a["a"])({url:"/api/v1/dict/type-option-select",method:"get"})}},"1a28":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-row",{staticClass:"mb10",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:8}},[s("el-card",{staticClass:"box-card"},[s("div",{staticStyle:{height:"500px",padding:"5px"}},[s("div",{staticClass:"monitor",staticStyle:{"padding-top":"0px"}},[s("div",{staticClass:"monitor-content"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:24}},[s("Cell",{attrs:{label:"xray版本",value:e.info.xray.version,border:""}}),s("Cell",{attrs:{label:"总(↑|↓)",value:e.sizeFormat(e.info.netTraffic.recv)+"/"+e.sizeFormat(e.info.netTraffic.sent),border:""}}),s("Cell",{attrs:{label:"时(↑|↓)",value:e.sizeFormat(e.info.netIO.up)+"/"+e.sizeFormat(e.info.netIO.down),border:""}}),s("Cell",{attrs:{label:"udp|tcp",value:e.info.udpCount+"|"+e.info.tcpCount,border:""}}),s("Cell",{attrs:{label:"内存",value:e.sizeFormat(e.info.mem.current)+"/"+e.sizeFormat(e.info.mem.total),border:""}}),s("Cell",{attrs:{label:"硬盘",value:e.sizeFormat(e.info.disk.current)+"/"+e.sizeFormat(e.info.disk.total),border:""}}),s("Cell",{attrs:{label:"主IP",value:e.info.mainIp,border:""}}),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:6}},[e._v(" CPU ")]),s("el-col",{attrs:{sm:24,md:18}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:parseFloat(parseFloat(e.info.cpu).toFixed(2))}})],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:6}},[e._v(" RAM ")]),s("el-col",{attrs:{sm:24,md:18}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:parseFloat((parseFloat(e.info.mem.current)/parseFloat(e.info.mem.total)*100).toFixed(2))||0}})],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:6}},[e._v(" 硬盘 ")]),s("el-col",{attrs:{sm:24,md:18}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:parseFloat((parseFloat(e.info.disk.current)/parseFloat(e.info.disk.total)*100).toFixed(2))||0}})],1)],1)],1)],1)],1)])])])],1),s("el-card",{staticClass:"box-card"},[e.form&&e.form.id>0?s("chatLog",{attrs:{"server-id":e.form.id}}):e._e()],1)],1)]},proxy:!0}])})],1)},r=[],n=s("9eeb"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("pre",{ref:"logContent",staticClass:"log-content",domProps:{innerHTML:e._s(e.coloredLog)}})])},o=[],l=(s("a9e3"),s("61ab")),c=s.n(l),u=s("f551"),d={props:{serverId:{type:Number,required:!0}},data:function(){return{timer:null,coloredLog:"",scrollHeight:0}},watch:{serverId:function(e,t){t!==e&&e&&e.id>0&&this.setLog()}},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},mounted:function(){var e=this;this.setLog(),this.timer=setInterval((function(){e.setLog()}),5e3)},methods:{setLog:function(){var e=this;Object(u["e"])(this.serverId).then((function(t){e.setColoredLog(t.data),e.$nextTick((function(){var t=e.$refs.logContent;e.scrollHeight===t.scrollTop&&e.scrollToEnd()}))}))},setColoredLog:function(e){var t=new c.a;this.coloredLog=t.toHtml(e)},scrollToEnd:function(){var e=this.$refs.logContent;e.scrollTop=e.scrollHeight,this.scrollHeight=e.scrollTop}}},p=d,m=(s("5a07"),s("2877")),f=Object(m["a"])(p,i,o,!1,null,"6aef3c98",null),h=f.exports,v=s("ed08"),g={name:"Monitor",components:{Cell:n["a"],chatLog:h},props:{form:{type:Object,required:!0}},data:function(){return{timer:null,info:{cpu:0,mem:{current:0,total:0},swap:{current:0,total:0},disk:{current:0,total:0},xray:{state:"",errorMsg:"",version:""},uptime:0,loads:[0,0,0],tcpCount:0,udpCount:0,netTraffic:{sent:0,recv:0},netIO:{up:0,down:0},mainIp:""},customColors:[{color:"#13ce66",percentage:20},{color:"#1890ff",percentage:40},{color:"#e6a23c",percentage:60},{color:"#1989fa",percentage:80},{color:"#F56C6C",percentage:100}]}},watch:{form:function(e,t){t!==e&&e&&e.id>0&&this.getServerInfo()}},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},mounted:function(){var e=this;this.getServerInfo(),this.timer=setInterval((function(){e.getServerInfo()}),5e3)},methods:{getServerInfo:function(){var e=this;Object(u["d"])(this.form.id).then((function(t){e.info=t.data}))},sizeFormat:function(e){return Object(v["i"])(e)}}},b=g,y=(s("c24f"),Object(m["a"])(b,a,r,!1,null,"288f15cf",null));t["default"]=y.exports},"1bfd":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-row",{staticClass:"mb10",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:8}},[e.info.cpu?s("el-card",{staticClass:"box-card",attrs:{shadow:"always","body-style":{paddingTop:"0 !important"}}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:8}},[s("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(" Runing ")])],1),s("el-col",{staticStyle:{"line-height":"28px","text-align":"center"},attrs:{sm:24,md:8}},[e._v(" "+e._s(e.info.location)+" ")])],1)],1),s("div",{staticClass:"monitor",staticStyle:{"padding-top":"0px"}},[s("div",{staticClass:"monitor-content"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:12}},[s("Cell",{attrs:{label:"系统",value:e.info.os.goOs,border:""}}),s("Cell",{attrs:{label:"内存",value:e.info.mem.used+"MB/"+e.info.mem.total+"MB",border:""}}),s("Cell",{attrs:{label:"交换",value:e.info.swap.used+"/"+e.info.swap.total,border:""}})],1),s("el-col",{attrs:{sm:24,md:12}},[s("Cell",{attrs:{label:"时间",value:e.info.os.time,border:""}}),s("Cell",{attrs:{label:"在线",value:e.info.bootTime+"小时",border:""}}),s("Cell",{attrs:{label:"硬盘",value:e.info.disk.used+"GB/"+e.info.disk.total+"GB",border:""}})],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{staticClass:"line",attrs:{sm:12,md:12}},[s("el-row",[s("el-col",{attrs:{span:"12",sm:8,md:8,xs:"12"}},[e._v(" 下载"),s("i",{staticClass:"el-icon-caret-bottom"})]),s("el-col",{staticClass:"line-value",attrs:{span:"12",sm:16,md:16,xs:"12"}},[e._v(" "+e._s(e.info.net.in)+"KB ")])],1)],1),s("el-col",{staticClass:"line",attrs:{sm:12,md:12}},[s("el-row",{attrs:{border:""}},[s("el-col",{attrs:{span:"12",sm:6,md:8}},[e._v(" 上传"),s("i",{staticClass:"el-icon-caret-top"})]),s("el-col",{staticClass:"line-value",attrs:{span:"12",sm:6,md:16}},[e._v(" "+e._s(e.info.net.out)+"KB ")])],1)],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:4}},[e._v(" CPU ")]),s("el-col",{attrs:{sm:24,md:20}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.cpu.percent}})],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:4}},[e._v(" RAM ")]),s("el-col",{attrs:{sm:24,md:20}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.mem.percent}})],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:4}},[e._v(" 硬盘 ")]),s("el-col",{attrs:{sm:24,md:20}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.disk.percent}})],1)],1)],1)])]):e._e()],1),e.info.os?s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("服务器信息")])]),s("div",{staticClass:"monitor"},[s("Cell",{attrs:{label:"主机名称",value:e.info.os.hostName,border:""}}),s("Cell",{attrs:{label:"操作系统",value:e.info.os.goOs,border:""}}),s("Cell",{attrs:{label:"服务器IP",value:e.info.os.ip,border:""}}),s("Cell",{attrs:{label:"系统架构",value:e.info.os.arch,border:""}}),s("Cell",{attrs:{label:"CPU",value:e.info.cpu.cpuInfo[0].modelName,border:""}}),s("Cell",{attrs:{label:"当前时间",value:e.info.os.time}})],1)]):e._e()],1)]},proxy:!0}])})],1)},r=[],n=s("9eeb"),i=s("cc0b"),o={name:"Monitor",components:{Cell:n["a"]},data:function(){return{info:{},customColors:[{color:"#13ce66",percentage:20},{color:"#1890ff",percentage:40},{color:"#e6a23c",percentage:60},{color:"#1989fa",percentage:80},{color:"#F56C6C",percentage:100}],timer:null}},created:function(){var e=this;this.getServerInfo(),this.timer=setInterval((function(){e.getServerInfo()}),1e3)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},methods:{getServerInfo:function(){var e=this;Object(i["a"])().then((function(t){200===t.code&&(e.info=t)}))}}},l=o,c=(s("2058"),s("2877")),u=Object(c["a"])(l,a,r,!1,null,"5aac64f5",null);t["default"]=u.exports},"1db4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wscn-http404-container"},[s("div",{staticClass:"wscn-http404"},[e._m(0),s("div",{staticClass:"bullshit"},[s("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._m(1),s("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),s("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),s("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pic-404"},[a("img",{staticClass:"pic-404__parent",attrs:{src:s("a36b"),alt:"404"}}),a("img",{staticClass:"pic-404__child left",attrs:{src:s("26fc"),alt:"404"}}),a("img",{staticClass:"pic-404__child mid",attrs:{src:s("26fc"),alt:"404"}}),a("img",{staticClass:"pic-404__child right",attrs:{src:s("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bullshit__info"},[e._v("All rights reserved "),s("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],n={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},i=n,o=(s("89a2"),s("2877")),l=Object(o["a"])(i,a,r,!1,null,"26fcd89f",null);t["default"]=l.exports},"1ee9":function(e,t,s){"use strict";s("9372")},"1ef6":function(e,t,s){},2:function(e,t){},2044:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=s("313e"),i=s.n(n),o=s("a7dc");s("817d");var l={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=l,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=d.exports},2058:function(e,t,s){"use strict";s("9087")},"24e2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"errPage-container"},[s("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),s("el-row",[s("el-col",{attrs:{span:12}},[s("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" Oops! ")]),e._v(" gif来源"),s("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[e._v("airbnb")]),e._v(" 页面 "),s("h2",[e._v("你没有权限去该页面")]),s("h6",[e._v("如有不满请联系你领导")]),s("ul",{staticClass:"list-unstyled"},[s("li",[e._v("或者你可以去:")]),s("li",{staticClass:"link-type"},[s("router-link",{attrs:{to:"/dashboard"}},[e._v(" 回首页 ")])],1),s("li",{staticClass:"link-type"},[s("a",{attrs:{href:"https://www.taobao.com/"}},[e._v("随便看看")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),s("el-col",{attrs:{span:12}},[s("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),s("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{staticClass:"pan-img",attrs:{src:e.ewizardClap}})])],1)},r=[],n=(s("14d9"),s("cc6c")),i=s.n(n),o={name:"Page401",data:function(){return{errGif:i.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},l=o,c=(s("fba8"),s("2877")),u=Object(c["a"])(l,a,r,!1,null,"0e89c969",null);t["default"]=u.exports},2544:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"todoapp"},[s("header",{staticClass:"header"},[s("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)}}})]),s("section",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"main"},[s("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:e.allChecked},on:{change:function(t){return e.toggleAll({done:!e.allChecked})}}}),s("label",{attrs:{for:"toggle-all"}}),s("ul",{staticClass:"todo-list"},e._l(e.filteredTodos,(function(t,a){return s("todo",{key:a,attrs:{todo:t},on:{toggleTodo:e.toggleTodo,editTodo:e.editTodo,deleteTodo:e.deleteTodo}})})),1)]),s("footer",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"footer"},[s("span",{staticClass:"todo-count"},[s("strong",[e._v(e._s(e.remaining))]),e._v(" "+e._s(e._f("pluralize")(e.remaining,"item"))+" left ")]),s("ul",{staticClass:"filters"},e._l(e.filters,(function(t,a){return s("li",{key:a},[s("a",{class:{selected:e.visibility===a},on:{click:function(t){t.preventDefault(),e.visibility=a}}},[e._v(e._s(e._f("capitalize")(a)))])])})),0)])])},r=[],n=(s("4de4"),s("d3b7"),s("fb6a"),s("e9c4"),s("498a"),s("14d9"),s("a434"),s("159b"),s("ced4")),i="todos",o={all:function(e){return e},active:function(e){return e.filter((function(e){return!e.done}))},completed:function(e){return e.filter((function(e){return e.done}))}},l=[{text:"star this repository",done:!1},{text:"fork this repository",done:!1},{text:"follow author",done:!1},{text:"vue-element-admin",done:!0},{text:"vue",done:!0},{text:"element-ui",done:!0},{text:"axios",done:!0},{text:"webpack",done:!0}],c={components:{Todo:n["default"]},filters:{pluralize:function(e,t){return 1===e?t:t+"s"},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},data:function(){return{visibility:"all",filters:o,todos:l}},computed:{allChecked:function(){return this.todos.every((function(e){return e.done}))},filteredTodos:function(){return o[this.visibility](this.todos)},remaining:function(){return this.todos.filter((function(e){return!e.done})).length}},methods:{setLocalStorage:function(){window.localStorage.setItem(i,JSON.stringify(this.todos))},addTodo:function(e){var t=e.target.value;t.trim()&&(this.todos.push({text:t,done:!1}),this.setLocalStorage()),e.target.value=""},toggleTodo:function(e){e.done=!e.done,this.setLocalStorage()},deleteTodo:function(e){this.todos.splice(this.todos.indexOf(e),1),this.setLocalStorage()},editTodo:function(e){var t=e.todo,s=e.value;t.text=s,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter((function(e){return!e.done})),this.setLocalStorage()},toggleAll:function(e){var t=this,s=e.done;this.todos.forEach((function(e){e.done=s,t.setLocalStorage()}))}}},u=c,d=(s("35117"),s("2877")),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},"26fc":function(e,t,s){e.exports=s.p+"img/404_cloud.0f4bc32b.png"},"29d6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[s("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),s("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[s("el-alert",{attrs:{title:"⚠️表字段中的id、create_by、update_by、created_at、updated_at、deleted_at的字段在此列表中已经隐藏",type:"warning","show-icon":""}}),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.columns,"max-height":e.tableHeight}},[s("el-table-column",{attrs:{fixed:"",label:"序号",type:"index",width:"50"}}),s("el-table-column",{attrs:{fixed:"",label:"字段列名",prop:"columnName",width:"150","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{fixed:"",label:"字段描述",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{model:{value:t.row.columnComment,callback:function(s){e.$set(t.row,"columnComment",s)},expression:"scope.row.columnComment"}})]}}])}),s("el-table-column",{attrs:{label:"物理类型",prop:"columnType",width:"120","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"go类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{model:{value:t.row.goType,callback:function(s){e.$set(t.row,"goType",s)},expression:"scope.row.goType"}},[s("el-option",{attrs:{label:"int64",value:"int64"}}),s("el-option",{attrs:{label:"string",value:"string"}})],1)]}}])}),s("el-table-column",{attrs:{label:"go属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{model:{value:t.row.goField,callback:function(s){e.$set(t.row,"goField",s)},expression:"scope.row.goField"}})]}}])}),s("el-table-column",{attrs:{label:"json属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{model:{value:t.row.jsonField,callback:function(s){e.$set(t.row,"jsonField",s)},expression:"scope.row.jsonField"}})]}}])}),s("el-table-column",{attrs:{label:"编辑",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isInsert,callback:function(s){e.$set(t.row,"isInsert",s)},expression:"scope.row.isInsert"}})]}}])}),s("el-table-column",{attrs:{label:"列表",width:"70","render-header":e.renderHeadeList,"cell-style":{"text-align":"center"}},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isList,callback:function(s){e.$set(t.row,"isList",s)},expression:"scope.row.isList"}})]}}])}),s("el-table-column",{attrs:{label:"查询",width:"70","render-header":e.renderHeadeSearch,"cell-style":{"text-align":"center"}},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isQuery,callback:function(s){e.$set(t.row,"isQuery",s)},expression:"scope.row.isQuery"}})]}}])}),s("el-table-column",{attrs:{label:"查询方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{model:{value:t.row.queryType,callback:function(s){e.$set(t.row,"queryType",s)},expression:"scope.row.queryType"}},[s("el-option",{attrs:{label:"=",value:"EQ"}}),s("el-option",{attrs:{label:"!=",value:"NE"}}),s("el-option",{attrs:{label:">",value:"GT"}}),s("el-option",{attrs:{label:">=",value:"GTE"}}),s("el-option",{attrs:{label:"<",value:"LT"}}),s("el-option",{attrs:{label:"<=",value:"LTE"}}),s("el-option",{attrs:{label:"LIKE",value:"LIKE"}})],1)]}}])}),s("el-table-column",{attrs:{label:"必填",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(s){e.$set(t.row,"isRequired",s)},expression:"scope.row.isRequired"}})]}}])}),s("el-table-column",{attrs:{label:"显示类型",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{model:{value:t.row.htmlType,callback:function(s){e.$set(t.row,"htmlType",s)},expression:"scope.row.htmlType"}},[s("el-option",{attrs:{label:"文本框",value:"input"}}),s("el-option",{attrs:{label:"下拉框",value:"select"}}),s("el-option",{attrs:{label:"单选框",value:"radio"}}),s("el-option",{attrs:{label:"文本域",value:"textarea"}})],1)]}}])}),s("el-table-column",{attrs:{label:"字典类型",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(s){e.$set(t.row,"dictType",s)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return s("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[s("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])}),s("el-table-column",{attrs:{label:"关系表",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:function(s){return e.handleChangeConfig(t.row,t.$index)}},model:{value:t.row.fkTableName,callback:function(s){e.$set(t.row,"fkTableName",s)},expression:"scope.row.fkTableName"}},e._l(e.tableTree,(function(t){return s("el-option",{key:t.tableName,attrs:{label:t.tableName,value:t.tableName}},[s("span",{staticStyle:{float:"left"}},[e._v(e._s(t.tableName))]),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.tableComment))])])})),1)]}}])}),s("el-table-column",{attrs:{label:"关系表key",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.fkLabelId,callback:function(s){e.$set(t.row,"fkLabelId",s)},expression:"scope.row.fkLabelId"}},e._l(t.row.fkCol,(function(t){return s("el-option",{key:t.columnName,attrs:{label:t.columnName,value:t.jsonField}},[s("span",{staticStyle:{float:"left"}},[e._v(e._s(t.jsonField))]),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.columnComment))])])})),1)]}}])}),s("el-table-column",{attrs:{label:"关系表value",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.fkLabelName,callback:function(s){e.$set(t.row,"fkLabelName",s)},expression:"scope.row.fkLabelName"}},e._l(t.row.fkCol,(function(t){return s("el-option",{key:t.columnName,attrs:{label:t.columnName,value:t.jsonField}},[s("span",{staticStyle:{float:"left"}},[e._v(e._s(t.jsonField))]),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.columnComment))])])})),1)]}}])})],1)],1),s("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[s("gen-info-form",{ref:"genInfo",attrs:{info:e.info}})],1)],1),s("el-form",{attrs:{"label-width":"100px"}},[s("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),s("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},r=[],n=(s("d3b7"),s("25f0"),s("159b"),s("4de4"),s("3ca3"),s("ddb0"),s("d81d"),s("b64b"),s("14d9"),s("4aab")),i=s("189a"),o=s("651f"),l=s("2d1d"),c={name:"GenEdit",components:{basicInfoForm:o["default"],genInfoForm:l["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",columns:[],tableTree:[],dictOptions:[],info:{}}},beforeCreate:function(){var e=this;Object(n["d"])().then((function(t){e.tableTree=t.data,e.tableTree.unshift({tableId:0,className:"请选择"})}));var t=this.$route.query.tableId;t&&(Object(n["c"])(t).then((function(t){e.columns=t.data.list,e.info=t.data.info,e.info.isDataScope=e.info.isDataScope.toString(),e.info.isActions=e.info.isActions.toString(),e.info.isAuth=e.info.isAuth.toString(),e.columns.forEach((function(t){e.tableTree.filter((function(e){e.tableId===t.fkTableNameClass&&(t.fkCol=e.columns||[{columnId:0,columnName:"请选择"}])}))}))})),Object(i["e"])().then((function(t){e.dictOptions=t.data})))},methods:{renderHeadeUpdate:function(e,t){var s=t.column;t.$index;return e("div",[e("span",s.label+"  ",{align:"center",marginTop:"0px"}),e("el-popover",{props:{placement:"top-start",width:"270",trigger:"hover"}},[e("p","是否在表单编辑时能够编辑，打√表示需要",{class:"text-align: center; margin: 0"}),e("i",{class:"el-icon-question",style:"color:#ccc,padding-top:5px",slot:"reference"})])])},renderHeadeList:function(e,t){var s=t.column;t.$index;return e("div",[e("span",s.label+"  ",{align:"center",marginTop:"0px"}),e("el-popover",{props:{placement:"top-start",width:"260",trigger:"hover"}},[e("p","是否在列表中展示，打√表示需要展示",{class:"text-align: center; margin: 0"}),e("i",{class:"el-icon-question",style:"color:#ccc,padding-top:5px",slot:"reference"})])])},renderHeadeSearch:function(e,t){var s=t.column;t.$index;return e("div",[e("span",s.label+"  ",{align:"center",marginTop:"0px"}),e("el-popover",{props:{placement:"top-start",width:"270",trigger:"hover"}},[e("p","是都当做搜索条件，打√表示做为搜索条件",{class:"text-align: center; margin: 0"}),e("i",{class:"el-icon-question",style:"color:#ccc,padding-top:5px",slot:"reference"})])])},handleChangeConfig:function(e,t){this.tableTree.filter((function(t){t.tableName===e.fkTableName&&(e.fkCol=t.columns)}))},submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,s=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,s].map(this.getFormPromise)).then((function(a){var r=a.every((function(e){return!!e}));if(r){var i=Object.assign({},t.model,s.model);i.columns=e.columns,i.params={treeCode:i.treeCode,treeName:i.treeName,treeParentCode:i.treeParentCode},i.isDataScope=JSON.parse(i.isDataScope),i.isActions=JSON.parse(i.isActions),i.isAuth=JSON.parse(i.isAuth),Object(n["k"])(i).then((function(t){e.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},getTables:function(){var e=this;Object(n["d"])().then((function(t){e.tableTree=t.data,e.tableTree.unshift({tableId:0,className:"请选择"})}))},getTablesCol:function(e){return this.tableTree.filter((function(t){if(t.tableName===e)return t.columns}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/dev-tools/gen",query:{t:Date.now()}})}}},u=c,d=s("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},"2c44":function(e,t,s){},"2d1d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"tplCategory"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),s("el-select",{model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[s("el-option",{attrs:{label:"关系表（增删改查）",value:"crud"}})],1)],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"packageName"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 应用名 "),s("el-tooltip",{attrs:{content:"应用名，例如：在app文件夹下将该功能发到那个应用中，默认：admin",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"businessName"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 业务名 "),s("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"functionName"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 功能描述 "),s("el-tooltip",{attrs:{content:"同步的数据库表备注，用作类描述，例如：用户",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"moduleName"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 接口路径 "),s("el-tooltip",{attrs:{content:"接口路径，例如：api/v1/{sys-user}",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}},[s("template",{slot:"prepend"},[e._v("api/{version}/")]),s("template",{slot:"append"},[e._v("...")])],2)],1)],1)],1),s("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[s("h4",{staticClass:"form-header"},[e._v("其他信息")]),s("el-col",{attrs:{span:12}},[s("el-form-item",[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树编码字段 "),s("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e){return s("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树父编码字段 "),s("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e){return s("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树名称字段 "),s("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e){return s("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},r=[],n={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"},{pattern:/^[a-z]*$/g,trigger:"blur",message:"只允许小写字母,例如 system 格式"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"},{pattern:/^[a-z\-]*[a-z]$/g,trigger:"blur",message:"只允许小写字母,例如 sys-demo 格式"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"},{pattern:/^[a-z][A-Za-z]+$/,trigger:"blur",message:"校验规则:  只允许输入字母 a-z 或大写 A-Z ，并且小写字母开头"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},"2dde":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[s("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),s("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[s("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[s("el-radio",{attrs:{label:"0"}},[e._v("男")]),s("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),s("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],n=(s("14d9"),s("51fa")),i={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(n["j"])(e.user).then((function(t){200===t.code?e.msgSuccess(t.msg):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},o=i,l=s("2877"),c=Object(l["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},3:function(e,t){},"332d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"部门名称"}},[s("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),s("el-form-item",{attrs:{label:"状态"}},[s("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:add"],expression:"['admin:sysDept:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[s("el-table-column",{attrs:{prop:"deptName",label:"部门名称"}}),s("el-table-column",{attrs:{prop:"sort",label:"排序",width:"200"}}),s("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:1===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),s("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:edit"],expression:"['admin:sysDept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:add"],expression:"['admin:sysDept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(s){return e.handleAdd(t.row)}}},[e._v("新增")]),0!=t.row.p_id?s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:remove"],expression:"['admin:sysDept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[s("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级部门","is-disabled":e.isEdit},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[s("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[s("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[s("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[s("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"部门状态"}},[s("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},r=[],n=(s("14d9"),s("4e82"),s("94d5")),i=s("ca17"),o=s.n(i),l=(s("542c"),{name:"SysDeptManage",components:{Treeselect:o.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",isEdit:!1,open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],leader:[{required:!0,message:"负责人不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.deptList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},getTreeselect:function(e){var t=this;Object(n["d"])().then((function(s){if(t.deptOptions=[],"update"===e){var a={deptId:0,deptName:"主类目",children:[],isDisabled:!0};a.children=s.data,t.deptOptions.push(a)}else{var r={deptId:0,deptName:"主类目",children:[]};r.children=s.data,t.deptOptions.push(r)}}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,parseInt(e.status))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,sort:10,leader:void 0,phone:void 0,email:void 0,status:"2"}},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect("add"),void 0!==e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",this.isEdit=!1},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect("update"),Object(n["c"])(e.deptId).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.form.sort=String(t.form.sort),t.open=!0,t.title="修改部门",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),e.form.sort=parseInt(e.form.sort),void 0!==e.form.deptId?Object(n["g"])(e.form,e.form.deptId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.deptId&&[e.deptId]||this.ids;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}}),c=l,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=d.exports},35117:function(e,t,s){"use strict";s("e121")},"36ef":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=s("313e"),i=s.n(n),o=s("a7dc");s("817d");var l={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,s=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:s,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=l,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=d.exports},"380d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[s("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])])]},proxy:!0}])})},r=[],n={name:"Swagger",components:{},data:function(){return{src:"/swagger/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},3823:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[s("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),s("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[s("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[s("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),s("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],n=(s("d9e2"),s("14d9"),s("51fa")),i={data:function(){var e=this,t=function(t,s,a){e.user.newPassword!==s?a(new Error("两次输入的密码不一致")):a()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(n["k"])(e.user.oldPassword,e.user.newPassword).then((function(t){200===t.code?e.msgSuccess(t.msg):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},o=i,l=s("2877"),c=Object(l["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},"385b":function(e,t,s){},"3bed":function(e,t,s){"use strict";s.d(t,"f",(function(){return r})),s.d(t,"e",(function(){return n})),s.d(t,"a",(function(){return i})),s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return l})),s.d(t,"g",(function(){return c})),s.d(t,"d",(function(){return u}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/vpn-node",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/vpn-node/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/api/v1/vpn-node",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/api/v1/vpn-node2/inserts2",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/api/v1/vpn-node/inserts",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/api/v1/vpn-node/"+e.id,method:"put",data:e})}function u(e){return Object(a["a"])({url:"/api/v1/vpn-node",method:"delete",data:e})}},"3cbc":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[s("div",{staticClass:"pan-info"},[s("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),s("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},r=[],n=(s("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),i=n,o=(s("1256"),s("2877")),l=Object(o["a"])(i,a,r,!1,null,"799537af",null);t["a"]=l.exports},"3f2c":function(e,t,s){"use strict";s.r(t);for(var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dashboard-editor-container"},[s("el-row",{attrs:{gutter:12}},[s("el-col",{style:{marginBottom:"12px"},attrs:{sm:24,xs:24,md:6,xl:6,lg:6}},[s("chart-card",{attrs:{title:"总销售额",total:"￥126,560"}},[s("el-tooltip",{staticClass:"item",attrs:{slot:"action",effect:"dark",content:"指标说明",placement:"top-start"},slot:"action"},[s("i",{staticClass:"el-icon-warning-outline"})]),s("div",[s("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"top",rate:"12"}},[s("span",{attrs:{slot:"term"},slot:"term"},[e._v("周同比")])]),s("trend",{attrs:{flag:"bottom",rate:"11"}},[s("span",{attrs:{slot:"term"},slot:"term"},[e._v("日同比")])])],1),s("template",{slot:"footer"},[e._v("日均销售额"),s("span",[e._v("￥ 234.56")])])],2)],1),s("el-col",{style:{marginBottom:"12px"},attrs:{sm:24,xs:24,md:6,xl:6,lg:6}},[s("chart-card",{attrs:{title:"访问量",total:8846}},[s("el-tooltip",{staticClass:"item",attrs:{slot:"action",effect:"dark",content:"指标说明",placement:"top-start"},slot:"action"},[s("i",{staticClass:"el-icon-warning-outline"})]),s("div",[s("mini-area")],1),s("template",{slot:"footer"},[e._v("日访问量"),s("span",[e._v(" "+e._s("1234"))])])],2)],1),s("el-col",{style:{marginBottom:"12px"},attrs:{sm:24,xs:24,md:6,xl:6,lg:6}},[s("chart-card",{attrs:{title:"支付笔数",total:6560}},[s("el-tooltip",{staticClass:"item",attrs:{slot:"action",effect:"dark",content:"指标说明",placement:"top-start"},slot:"action"},[s("i",{staticClass:"el-icon-warning-outline"})]),s("div",[s("mini-bar")],1),s("template",{slot:"footer"},[e._v("转化率 "),s("span",[e._v("60%")])])],2)],1),s("el-col",{style:{marginBottom:"12px"},attrs:{sm:24,xs:24,md:6,xl:6,lg:6}},[s("chart-card",{attrs:{title:"运营活动效果",total:"78%"}},[s("el-tooltip",{staticClass:"item",attrs:{slot:"action",effect:"dark",content:"指标说明",placement:"top-start"},slot:"action"},[s("i",{staticClass:"el-icon-warning-outline"})]),s("div",[s("mini-progress",{attrs:{color:"rgb(19, 194, 194)",target:80,percentage:78,height:"8px"}})],1),s("template",{slot:"footer"},[s("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"top",rate:"12"}},[s("span",{attrs:{slot:"term"},slot:"term"},[e._v("同周比")])]),s("trend",{attrs:{flag:"bottom",rate:"80"}},[s("span",{attrs:{slot:"term"},slot:"term"},[e._v("日环比")])])],1)],2)],1)],1),s("el-card",{attrs:{bordered:!1,"body-style":{padding:"0"}}},[s("div",{staticClass:"salesCard"},[s("el-tabs",[s("el-tab-pane",{attrs:{label:"销售额"}},[s("el-row",[s("el-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[s("bar",{attrs:{list:e.barData,title:"销售额排行"}})],1),s("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[s("rank-list",{attrs:{title:"门店销售排行榜",list:e.rankList}})],1)],1)],1),s("el-tab-pane",{attrs:{label:"访问量"}},[s("el-row",[s("el-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[s("bar",{attrs:{list:e.barData2,title:"销售额趋势"}})],1),s("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[s("rank-list",{attrs:{title:"门店销售排行榜",list:e.rankList}})],1)],1)],1)],1)],1)])],1)},r=[],n=(s("14d9"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{attrs:{loading:e.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1}},[s("div",{staticClass:"chart-card-header"},[s("div",{staticClass:"meta"},[s("span",{staticClass:"chart-card-title"},[e._t("title",[e._v(" "+e._s(e.title)+" ")])],2),s("span",{staticClass:"chart-card-action"},[e._t("action")],2)]),s("div",{staticClass:"total"},[e._t("total",[s("span",[e._v(e._s("function"===typeof e.total&&e.total()||e.total))])])],2)]),s("div",{staticClass:"chart-card-content"},[s("div",{staticClass:"content-fix"},[e._t("default")],2)]),s("div",{staticClass:"chart-card-footer"},[s("div",{staticClass:"field"},[e._t("footer")],2)])])}),i=[],o=(s("a9e3"),{name:"ChartCard",props:{title:{type:String,default:""},total:{type:[Function,Number,String],required:!1,default:null},loading:{type:Boolean,default:!1}}}),l=o,c=(s("b778"),s("2877")),u=Object(c["a"])(l,n,i,!1,null,"6e8052e5",null),d=u.exports,p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chart-trend"},[e._t("term"),s("span",[e._v(e._s(e.rate)+"%")]),s("span",{class:[e.flag]},[s("i",{class:"el-icon-caret-"+e.flag})])],2)},m=[],f={name:"Trend",props:{rate:{type:String,default:"",required:!0},flag:{type:String,default:"",required:!0}}},h=f,v=(s("5fa1"),Object(c["a"])(h,p,m,!1,null,"a400962a",null)),g=v.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"antv-chart-mini"},[s("div",{staticClass:"chart-wrapper",style:{height:46}},[s("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,padding:[36,0,18,0]}},[s("v-tooltip"),s("v-smooth-area",{attrs:{position:"x*y"}})],1)],1)])},y=[],w=s("c1df"),_=s.n(w),S=[],x=(new Date).getTime(),k=0;k<10;k++)S.push({x:_()(new Date(x+864e5*k)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});for(var C=["x*y",function(e,t){return{name:e,value:t}}],O=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:22}],I={name:"MiniArea",data:function(){return{data:S,tooltip:C,scale:O,height:100}}},z=I,j=(s("0a70"),Object(c["a"])(z,b,y,!1,null,"6f6e3b2d",null)),P=j.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"antv-chart-mini"},[s("div",{staticClass:"chart-wrapper",style:{height:46}},[s("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,padding:[36,5,18,5]}},[s("v-tooltip"),s("v-bar",{attrs:{position:"x*y"}})],1)],1)])},q=[],T=[],L=(new Date).getTime(),N=0;N<10;N++)T.push({x:_()(new Date(L+864e5*N)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});for(var E=["x*y",function(e,t){return{name:e,value:t}}],F=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:30}],D={name:"MiniBar",data:function(){return{data:T,tooltip:E,scale:F,height:100}}},A=D,B=(s("be43"),Object(c["a"])(A,$,q,!1,null,"2eee8e6b",null)),U=B.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chart-mini-progress"},[s("div",{staticClass:"target",style:{left:e.target+"%"}},[s("span",{style:{backgroundColor:e.color}}),s("span",{style:{backgroundColor:e.color}})]),s("div",{staticClass:"progress-wrapper"},[s("div",{staticClass:"progress",style:{backgroundColor:e.color,width:e.percentage+"%",height:e.height}})])])},Q=[],M={name:"MiniProgress",props:{target:{type:Number,default:0},height:{type:String,default:"10px"},color:{type:String,default:"#13C2C2"},percentage:{type:Number,default:0}}},H=M,K=(s("1ee9"),Object(c["a"])(H,R,Q,!1,null,"3a49e770",null)),G=K.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rank"},[s("h4",{staticClass:"title"},[e._v(e._s(e.title))]),s("ul",{staticClass:"list"},e._l(e.list,(function(t,a){return s("li",{key:a},[s("span",{class:a<3?"active":null},[e._v(e._s(a+1))]),s("span",[e._v(e._s(t.name))]),s("span",[e._v(e._s(t.total))])])})),0)])},J=[],W={name:"RankList",props:{title:{type:String,default:""},list:{type:Array,default:null}}},Y=W,X=(s("c591"),Object(c["a"])(Y,V,J,!1,null,"c84d42f2",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:{padding:"0 0 32px 32px"}},[s("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),s("v-chart",{attrs:{height:"254",data:e.arr,"force-fit":!0,padding:["auto","auto","40","50"]}},[s("v-tooltip"),s("v-axis"),s("v-bar",{attrs:{position:"x*y"}})],1)],1)},te=[],se={name:"Bar",props:{title:{type:String,default:""},list:{type:Array,default:function(){}},scale:{type:Array,default:function(){return[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:22}]}},tooltip:{type:Array,default:function(){return["x*y",function(e,t){return{name:e,value:t}}]}}},data:function(){return{arr:[]}},mounted:function(){var e=this;setTimeout((function(t){e.arr=e.list}),300)}},ae=se,re=Object(c["a"])(ae,ee,te,!1,null,null,null),ne=re.exports,ie=[],oe=[],le=0;le<12;le+=1)ie.push({x:"".concat(le+1,"月"),y:Math.floor(1e3*Math.random())+200}),oe.push({x:"".concat(le+1,"月"),y:Math.floor(1e3*Math.random())+200});for(var ce=[],ue=0;ue<7;ue++)ce.push({name:"白鹭岛 "+(ue+1)+" 号店",total:1234.56-100*ue});var de={name:"DashboardAdmin",components:{ChartCard:d,Trend:g,MiniArea:P,MiniBar:U,MiniProgress:G,RankList:Z,Bar:ne},data:function(){return{barData:ie,barData2:oe,rankList:ce}},methods:{}},pe=de,me=(s("fc60"),Object(c["a"])(pe,a,r,!1,null,"57e96ab4",null));t["default"]=me.exports},"42e1":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"48px"}},[s("el-form-item",{attrs:{label:"名称",prop:"configName"}},[s("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),s("el-form-item",{attrs:{label:"键名",prop:"configKey"}},[s("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),s("el-form-item",{attrs:{label:"内置",prop:"configType"}},[s("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.typeOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:add"],expression:"['admin:sysConfig:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:edit"],expression:"['admin:sysConfig:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:remove"],expression:"['admin:sysConfig:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:export"],expression:"['admin:sysConfig:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"编码",sortable:"custom",width:"75",prop:"id"}}),s("el-table-column",{attrs:{label:"名称",sortable:"custom",prop:"configName","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"键名",sortable:"custom",prop:"configKey"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",[e._v("键值: "+e._s(t.row.configValue))]),s("p",[e._v("UI参数: "),"2"==t.row.isFrontend?s("el-tag",[e._v("否")]):e._e(),"1"==t.row.isFrontend?s("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e()],1),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.row.configKey)+" ")])])]}}])}),s("el-table-column",{attrs:{label:"内置",sortable:"custom",prop:"configType",formatter:e.typeFormat,width:"80"}}),s("el-table-column",{attrs:{label:"备注",prop:"remark","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"创建时间",sortable:"custom",prop:"createdAt",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作","class-name":"small-padding fixed-width",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:edit"],expression:"['admin:sysConfig:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:remove"],expression:"['admin:sysConfig:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[s("el-input",{attrs:{placeholder:"请输入参数名称",disabled:e.isEdit},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),s("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[s("el-input",{attrs:{placeholder:"请输入参数键名",disabled:e.isEdit},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),s("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[s("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),s("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[s("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.typeOptions,(function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),s("el-form-item",{attrs:{label:"前台显示",prop:"isFrontend"}},[s("el-select",{attrs:{placeholder:"是否前台显示",clearable:"",size:"small"},model:{value:e.form.isFrontend,callback:function(t){e.$set(e.form,"isFrontend",t)},expression:"form.isFrontend"}},[s("el-option",{attrs:{label:"是",value:"1"}}),s("el-option",{attrs:{label:"否",value:"2"}})],1)],1),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("d3b7"),s("3ca3"),s("ddb0"),s("cecf")),i=s("ed08"),o={name:"SysConfigManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,configList:[],order:"createdAtOrder",title:"",isEdit:!1,open:!1,typeOptions:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0,createdAtOrder:"desc"},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}],isFrontend:[{required:!0,message:"是否前台显示不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.data.list,e.total=t.data.count,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"Y",isFrontend:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.queryParams["createdAtOrderOrder"]="desc",this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数",this.isEdit=!1},handleSortChang:function(e,t,s){t=e.prop,s=e.order,""!==this.order&&this.order!==t+"Order"&&(this.queryParams[this.order]=void 0),"descending"===s?(this.queryParams[t+"Order"]="desc",this.order=t+"Order"):"ascending"===s?(this.queryParams[t+"Order"]="asc",this.order=t+"Order"):this.queryParams[t+"Order"]=void 0,this.getList()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["c"])(s).then((function(e){t.form=e.data,t.open=!0,t.title="修改参数",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?Object(n["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除参数编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有参数数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([s.e("chunk-7804fb46"),s.e("chunk-2d0cc0b6")]).then(s.bind(null,"4bf8")).then((function(t){var s=["参数主键","参数名称","参数键名","参数键值","备注","创建时间"],a=["configId","configName","configKey","configValue","remark","createdAt"],r=e.configList,n=Object(i["c"])(a,r);t.export_json_to_excel({header:s,data:n,filename:"参数设置",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},l=o,c=s("2877"),u=Object(c["a"])(l,a,r,!1,null,null,null);t["default"]=u.exports},4499:function(e,t,s){"use strict";s("d689")},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e9","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e9","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="4678"},"4a5b":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-position":"left","label-width":"68px"}},[s("el-form-item",{attrs:{label:"名称",prop:"jobName"}},[s("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),s("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[s("el-select",{attrs:{placeholder:"定时任务任务分组",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"定时任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:add"],expression:"['job:sysJob:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:edit"],expression:"['job:sysJob:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:remove"],expression:"['job:sysJob:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:log"],expression:"['job:sysJob:log']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleLog}},[e._v("日志 ")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.sysjobList},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"编码",align:"center",prop:"jobId","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"任务分组",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.jobGroupFormat(t.row))+" ")]}}])}),s("el-table-column",{attrs:{label:"cron表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"调用目标",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.statusFormat(t.row))+" ")]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:edit"],expression:"['job:sysJob:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改 ")]),0!==t.row.entry_id&&1!=t.row.status?s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:remove"],expression:"['job:sysJob:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleRemove(t.row)}}},[e._v("停止 ")]):e._e(),0==t.row.entry_id&&1!=t.row.status?s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:start"],expression:"['job:sysJob:start']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleStart(t.row)}}},[e._v("启动 ")]):e._e(),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:remove"],expression:"['job:sysJob:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"名称",prop:"jobName"}},[s("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"调用目标",prop:"invokeTarget"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 调用目标 "),s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 调用示例：func (t *EXEC) ExamplesNoParam(){..} 填写 ExamplesNoParam 即可； "),s("br"),e._v("参数说明：目前不支持带参调用 ")]),s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"调用目标"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"目标参数",prop:"args"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 目标参数 "),s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 参数示例：有参：请以string格式填写；无参：为空； "),s("br"),e._v("参数说明：目前仅支持函数调用 ")]),s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"目标参数"},model:{value:e.form.args,callback:function(t){e.$set(e.form,"args",t)},expression:"form.args"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[s("el-input",{attrs:{placeholder:"cron表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"是否并发",prop:"concurrent"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.form.concurrent,callback:function(t){e.$set(e.form,"concurrent",t)},expression:"form.concurrent"}},[s("el-radio-button",{attrs:{label:"0"}},[e._v("允许")]),s("el-radio-button",{attrs:{label:"1"}},[e._v("禁止")])],1)],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"调用类型",prop:"jobType"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.form.jobType,callback:function(t){e.$set(e.form,"jobType",t)},expression:"form.jobType"}},[s("el-radio-button",{attrs:{label:"1"}},[e._v("接口")]),s("el-radio-button",{attrs:{label:"2"}},[e._v("函数")])],1)],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"执行策略",prop:"misfirePolicy"}},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},[s("el-radio-button",{attrs:{label:"1"}},[e._v("立即执行")]),s("el-radio-button",{attrs:{label:"2"}},[e._v("执行一次")]),s("el-radio-button",{attrs:{label:"3"}},[e._v("放弃执行")])],1)],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})],1)},r=[],n=(s("d81d"),s("14d9"),s("b775"));function i(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/api/v1/sysjob/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"delete",data:e})}function d(e){return Object(n["a"])({url:"/api/v1/job/remove/"+e,method:"get"})}function p(e){return Object(n["a"])({url:"/api/v1/job/start/"+e,method:"get"})}var m={name:"SysJobManage",components:{},data:function(){return{loading:!0,id:0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],sysjobList:[],jobGroupOptions:[],statusOptions:[],queryParams:{pageIndex:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobId:[{required:!0,message:"编码不能为空",trigger:"blur"}],jobName:[{required:!0,message:"名称不能为空",trigger:"blur"}],jobGroup:[{required:!0,message:"任务分组不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron表达式不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data})),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,i(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.sysjobList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobGroup:void 0,cronExpression:void 0,invokeTarget:void 0,args:void 0,misfirePolicy:1,concurrent:1,jobType:1,status:void 0},this.resetForm("form")},jobGroupFormat:function(e){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加定时任务",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var s=e.jobId||this.ids;o(s).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.form.misfirePolicy=String(t.form.misfirePolicy),t.form.concurrent=String(t.form.concurrent),t.form.jobType=String(t.form.jobType),t.open=!0,t.title="修改定时任务",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.jobId?(e.form.status=parseInt(e.form.status),e.form.misfirePolicy=parseInt(e.form.misfirePolicy),e.form.concurrent=parseInt(e.form.concurrent),e.form.jobType=parseInt(e.form.jobType),c(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.status=parseInt(e.form.status),e.form.misfirePolicy=parseInt(e.form.misfirePolicy),e.form.concurrent=parseInt(e.form.concurrent),e.form.jobType=parseInt(e.form.jobType),l(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},handleDelete:function(e){var t=this,s=e.jobId&&[e.jobId]||this.ids;this.$confirm('是否确认删除编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleStart:function(e){var t=this;this.$confirm('是否确认启动编号为"'+e.jobId+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.jobId)})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleRemove:function(e){var t=this;this.$confirm('是否确认关闭编号为"'+e.jobId+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.jobId)})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleLog:function(){this.$router.push({name:"job_log",params:{}})}}},f=m,h=s("2877"),v=Object(h["a"])(f,a,r,!1,null,null,null);t["default"]=v.exports},"4aab":function(e,t,s){"use strict";s.d(t,"g",(function(){return r})),s.d(t,"f",(function(){return n})),s.d(t,"c",(function(){return i})),s.d(t,"k",(function(){return o})),s.d(t,"e",(function(){return l})),s.d(t,"h",(function(){return c})),s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return d})),s.d(t,"j",(function(){return p})),s.d(t,"i",(function(){return m})),s.d(t,"d",(function(){return f}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/sys/tables/page",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/db/tables/page",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/api/v1/sys/tables/info/"+e,method:"get"})}function o(e){return Object(a["a"])({url:"/api/v1/sys/tables/info",method:"put",data:e})}function l(e){return Object(a["a"])({url:"/api/v1/sys/tables/info",method:"post",params:e})}function c(e){return Object(a["a"])({url:"/api/v1/gen/preview/"+e,method:"get"})}function u(e){return Object(a["a"])({url:"/api/v1/sys/tables/info/"+e,method:"delete"})}function d(e){return Object(a["a"])({url:"/api/v1/gen/apitofile/"+e,method:"get"})}function p(e,t){return Object(a["a"])({url:"/api/v1/gen/toproject/"+e+"?ischeckrole="+t,method:"get"})}function m(e){return Object(a["a"])({url:"/api/v1/gen/todb/"+e,method:"get"})}function f(){return Object(a["a"])({url:"/api/v1/gen/tabletree",method:"get"})}},"4e5c":function(e,t,s){},"4ed3":function(e,t,s){},"50ce":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"inline-block"}},[s("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v("Filename: ")]),s("el-input",{staticStyle:{width:"345px"},attrs:{placeholder:"Please enter the file name (default excel-list)","prefix-icon":"el-icon-document"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1)},r=[],n={props:{value:{type:String,default:""}},computed:{filename:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},"51fa":function(e,t,s){"use strict";s.d(t,"h",(function(){return r})),s.d(t,"e",(function(){return n})),s.d(t,"a",(function(){return i})),s.d(t,"j",(function(){return o})),s.d(t,"c",(function(){return l})),s.d(t,"d",(function(){return c})),s.d(t,"i",(function(){return u})),s.d(t,"b",(function(){return d})),s.d(t,"g",(function(){return p})),s.d(t,"k",(function(){return m})),s.d(t,"l",(function(){return f})),s.d(t,"f",(function(){return h}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/sys-user",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/sys-user/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/api/v1/sys-user",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/api/v1/sys-user",method:"put",data:e})}function l(e){return Object(a["a"])({url:"/api/v1/sys-user",method:"delete",data:e})}function c(e){return Object(a["a"])({url:"/api/v1/sys-user/export",method:"get",params:e})}function u(e,t){var s={userId:e,password:t};return Object(a["a"])({url:"/api/v1/user/pwd/reset",method:"put",data:s})}function d(e){var t={userId:e.userId,status:e.status};return Object(a["a"])({url:"/api/v1/user/status",method:"put",data:t})}function p(){return Object(a["a"])({url:"/api/v1/sys-user/importTemplate",method:"get"})}function m(e,t){var s={oldPassword:e,newPassword:t};return Object(a["a"])({url:"/api/v1/user/pwd/set",method:"put",data:s})}function f(e){return Object(a["a"])({url:"/api/v1/user/avatar",method:"post",data:e})}function h(){return Object(a["a"])({url:"/api/v1/user/profile",method:"get"})}},5211:function(e,t,s){},5366:function(e,t,s){"use strict";s("a595")},"576ce":function(e,t,s){},5851:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dashboard-editor-container"},[s("div",{staticClass:" clearfix"},[s("pan-thumb",{staticStyle:{float:"left"},attrs:{image:e.avatar}},[e._v(" Your roles: "),e._l(e.roles,(function(t){return s("span",{key:t,staticClass:"pan-info-roles"},[e._v(e._s(t))])}))],2),s("github-corner",{staticStyle:{position:"absolute",top:"0px",border:"0",right:"0"}}),s("div",{staticClass:"info-container"},[s("span",{staticClass:"display_name"},[e._v(e._s(e.name))]),s("span",{staticStyle:{"font-size":"20px","padding-top":"20px",display:"inline-block"}},[e._v("Editor's Dashboard")])])],1),s("div",[s("img",{staticClass:"emptyGif",attrs:{src:e.emptyGif}})])])},r=[],n=s("5530"),i=s("2f62"),o=s("3cbc"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"github-corner",attrs:{href:"https://github.com/wenjianzhang/go-admin",target:"_blank","aria-label":"View source on Github"}},[s("svg",{staticStyle:{fill:"#40c9c6",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[s("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),s("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),s("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},c=[],u=(s("5366"),s("2877")),d={},p=Object(u["a"])(d,l,c,!1,null,"f98c1a80",null),m=p.exports,f={name:"DashboardEditor",components:{PanThumb:o["a"],GithubCorner:m},data:function(){return{emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3"}},computed:Object(n["a"])({},Object(i["b"])(["name","avatar","roles"]))},h=f,v=(s("cb89"),Object(u["a"])(h,a,r,!1,null,"e3426062",null));t["default"]=v.exports},5905:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-view")},r=[],n=s("2877"),i={},o=Object(n["a"])(i,a,r,!1,null,null,null);t["default"]=o.exports},"5a07":function(e,t,s){"use strict";s("f75c")},"5ec1":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[s("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[s("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return s("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),s("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[s("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:add"],expression:"['admin:sysDictData:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:edit"],expression:"['admin:sysDictData:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:remove"],expression:"['admin:sysDictData:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList,border:""},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"字典编码",width:"80",align:"center",prop:"dictCode"}}),s("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"}}),s("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),s("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),s("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:edit"],expression:"['admin:sysDictData:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:remove"],expression:"['admin:sysDictData:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"字典类型"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),s("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[s("el-input",{attrs:{placeholder:"请输入数据标签",disabled:e.isEdit},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),s("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[s("el-input",{attrs:{placeholder:"请输入数据键值",disabled:e.isEdit},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),s("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[s("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("f6d9")),i=s("189a"),o={name:"SysDictDataManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],defaultDictType:"",title:"",isEdit:!1,open:!1,statusOptions:[],typeOptions:[],queryParams:{pageIndex:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictId;this.getType(t),this.getTypeList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getType:function(e){var t=this;Object(i["c"])(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;Object(i["d"])({pageSize:1e3}).then((function(t){e.typeOptions=t.data.list}))},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.dataList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,dictSort:0,status:"2",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.isEdit=!1,this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var s=e.dictCode||this.ids;Object(n["d"])(s).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.open=!0,t.title="修改字典数据",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.dictCode?Object(n["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.dictCode&&[e.dictCode]||this.ids;this.$confirm('是否确认删除字典编码为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,c=s("2877"),u=Object(c["a"])(l,a,r,!1,null,null,null);t["default"]=u.exports},"5f141":function(e,t,s){"use strict";s.d(t,"d",(function(){return r})),s.d(t,"c",(function(){return n})),s.d(t,"e",(function(){return i})),s.d(t,"a",(function(){return o})),s.d(t,"f",(function(){return l})),s.d(t,"b",(function(){return c}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/menu",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/menu/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/api/v1/roleMenuTreeselect/"+e,method:"get"})}function o(e){return Object(a["a"])({url:"/api/v1/menu",method:"post",data:e})}function l(e,t){return Object(a["a"])({url:"/api/v1/menu/"+t,method:"put",data:e})}function c(e){return Object(a["a"])({url:"/api/v1/menu",method:"delete",data:e})}},"5f84":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=s("313e"),i=s.n(n),o=s("a7dc");s("817d");var l=6e3,c={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:l},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:l},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:l}]})}}},u=c,d=s("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},"5fa1":function(e,t,s){"use strict";s("576ce")},"651f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"tableName"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 数据表名称 "),s("el-tooltip",{attrs:{content:"数据库表名称，针对gorm对应的table()使用，⚠️这里必须是蛇形结构",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请输入表名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"tableComment"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单名称 "),s("el-tooltip",{attrs:{content:"同步的数据库表名称，生成配置数据时，用作菜单名称",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"className"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 结构体模型名称 "),s("el-tooltip",{attrs:{content:"结构体模型名称，代码中的struct名称定义使用",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"作者名称",prop:"functionAuthor"}},[s("el-input",{attrs:{placeholder:"请输入作者名称"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},r=[],n={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"},{pattern:/^[a-z\._]*$/g,trigger:"blur",message:"只允许小写字母,例如 sys_demo 格式"}],tableComment:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],className:[{required:!0,message:"请输入模型名称",trigger:"blur"},{pattern:/^[A-Z][A-z0-9]*$/g,trigger:"blur",message:"必须以大写字母开头,例如 SysDemo 格式"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"},{pattern:/^[A-Za-z]+$/,trigger:"blur",message:"校验规则:  只允许输入字母 a-z 或大写 A-Z"}]}}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},"66d3":function(e,t,s){},6768:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[s("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[s("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[s("div",{staticClass:"card-panel-icon-wrapper icon-people"},[s("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),s("div",{staticClass:"card-panel-description"},[s("div",{staticClass:"card-panel-text"},[e._v(" 新用户 ")]),s("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),s("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[s("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[s("div",{staticClass:"card-panel-icon-wrapper icon-message"},[s("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),s("div",{staticClass:"card-panel-description"},[s("div",{staticClass:"card-panel-text"},[e._v(" 消息 ")]),s("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),s("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[s("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[s("div",{staticClass:"card-panel-icon-wrapper icon-money"},[s("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),s("div",{staticClass:"card-panel-description"},[s("div",{staticClass:"card-panel-text"},[e._v(" 金额 ")]),s("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),s("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[s("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[s("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[s("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),s("div",{staticClass:"card-panel-description"},[s("div",{staticClass:"card-panel-text"},[e._v(" 销量 ")]),s("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},r=[],n=s("ec1b"),i=s.n(n),o={components:{CountTo:i.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},l=o,c=(s("0e06"),s("2877")),u=Object(c["a"])(l,a,r,!1,null,"b29af76c",null);t["default"]=u.exports},"6a60":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"授权用户",prop:"userIds"}},[s("el-select",{attrs:{placeholder:"请选择",clearable:"",multiple:"",size:"small"},model:{value:e.queryParams.userIds,callback:function(t){e.$set(e.queryParams,"userIds",t)},expression:"queryParams.userIds"}},e._l(e.userIdsOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),s("el-form-item",{attrs:{label:"名称",prop:"serverName"}},[s("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.serverName,callback:function(t){e.$set(e.queryParams,"serverName",t)},expression:"queryParams.serverName"}})],1),s("el-form-item",{attrs:{label:"IP",prop:"serverIp"}},[s("el-input",{attrs:{placeholder:"请输入IP",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.serverIp,callback:function(t){e.$set(e.queryParams,"serverIp",t)},expression:"queryParams.serverIp"}})],1),s("el-form-item",{attrs:{label:"ADSL",prop:"isAdsl"}},[s("el-select",{attrs:{placeholder:"服务器管理ADSL",clearable:"",size:"small"},model:{value:e.queryParams.isAdsl,callback:function(t){e.$set(e.queryParams,"isAdsl",t)},expression:"queryParams.isAdsl"}},e._l(e.isAdslOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"地区",prop:"area"}},[s("el-input",{attrs:{placeholder:"请输入服务器地区",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.area,callback:function(t){e.$set(e.queryParams,"area",t)},expression:"queryParams.area"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"服务器管理状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:add"],expression:"['vpn:vpnServer:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:add"],expression:"['vpn:vpnServer:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.reboots}},[e._v("重启服务器 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:add"],expression:"['vpn:vpnServer:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.restarts}},[e._v("(启动/重启)服务 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:remove"],expression:"['vpn:vpnServer:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.vpnServerList},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:edit"],expression:"['vpn:vpnServer:edit']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-refresh"},on:{click:function(s){return e.vpnReboot(t.row)}},slot:"reference"},[e._v("重启服务器 ")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:edit"],expression:"['vpn:vpnServer:edit']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-refresh"},on:{click:function(s){return e.vpnRestart(t.row)}},slot:"reference"},[e._v("(启动/重启)服务 ")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:edit"],expression:"['vpn:vpnServer:edit']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-potato-strips"},on:{click:function(s){return e.monitorOprn(t.row)}},slot:"reference"},[e._v("日志 ")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:edit"],expression:"['vpn:vpnServer:edit']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}},slot:"reference"},[e._v("修改 ")]),s("el-popconfirm",{staticClass:"delete-popconfirm",attrs:{title:"确认要删除吗?","confirm-button-text":"删除"},on:{confirm:function(s){return e.handleDelete(t.row)}}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnServer:remove"],expression:"['vpn:vpnServer:remove']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-delete"},slot:"reference"},[e._v("删除 ")])],1)]}}])}),s("el-table-column",{attrs:{label:"名称",align:"center",prop:"serverName","show-overflow-tooltip":!0,width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.serverName,placement:"top"}},[s("div",{staticClass:"text-ellipsis"},[e._v(e._s(t.row.serverName))])])]}}])}),s("el-table-column",{attrs:{label:"IP",align:"center",prop:"serverIp","show-overflow-tooltip":!0,width:"200"}}),s("el-table-column",{attrs:{label:"地区",align:"center",prop:"area","show-overflow-tooltip":!0,width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.nationFormat(t.row))+" ")]}}])}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:1==t.row.status?"success":"danger"}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),s("el-table-column",{attrs:{label:"授权用户",align:"center",prop:"userIds",formatter:e.userIdsFormat,width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{effect:"dark",content:e.userIdsFormat(t.row),placement:"top"}},[s("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",width:"100%"}},e._l(JSON.parse(t.row.userIds),(function(t){return s("div",{key:t,staticClass:"item"},[s("el-tag",{staticStyle:{"margin-right":"2px"}},[e._v(e._s(e.userIdFormat(t)))])],1)})),0)])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"授权用户",prop:"userIds"}},[s("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.userIds,callback:function(t){e.$set(e.form,"userIds",t)},expression:"form.userIds"}},e._l(e.userIdsOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),s("el-form-item",{attrs:{label:"名称",prop:"serverName"}},[s("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.serverName,callback:function(t){e.$set(e.form,"serverName",t)},expression:"form.serverName"}})],1),s("el-form-item",{attrs:{label:"IP/域名",prop:"serverIp"}},[s("el-input",{attrs:{placeholder:"IP"},model:{value:e.form.serverIp,callback:function(t){e.$set(e.form,"serverIp",t)},expression:"form.serverIp"}})],1),s("el-form-item",{attrs:{label:"ssh端口",prop:"serverSshProt"}},[s("el-input",{attrs:{placeholder:"ssh端口"},model:{value:e.form.serverSshProt,callback:function(t){e.$set(e.form,"serverSshProt",e._n(t))},expression:"form.serverSshProt"}})],1),s("el-form-item",{attrs:{label:"ssh账号",prop:"serverSshProt"}},[s("el-input",{attrs:{placeholder:"ssh账号"},model:{value:e.form.serverSshUser,callback:function(t){e.$set(e.form,"serverSshUser",t)},expression:"form.serverSshUser"}})],1),s("el-form-item",{attrs:{label:"登录方式",prop:"serverSshLoginType"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.serverSshLoginType,callback:function(t){e.$set(e.form,"serverSshLoginType",t)},expression:"form.serverSshLoginType"}},e._l(e.serverSshLoginTypeOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"password"==e.form.serverSshLoginType?s("el-form-item",{attrs:{label:"ssh密码",prop:"serverSshPasswrod"}},[s("el-input",{attrs:{placeholder:"ssh密码"},model:{value:e.form.serverSshPasswrod,callback:function(t){e.$set(e.form,"serverSshPasswrod",t)},expression:"form.serverSshPasswrod"}})],1):e._e(),"public_key"==e.form.serverSshLoginType?s("el-form-item",{attrs:{label:"ssh秘钥",prop:"serverSshPublicKey"}},[s("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.form.serverSshPublicKey,callback:function(t){e.$set(e.form,"serverSshPublicKey",t)},expression:"form.serverSshPublicKey"}})],1):e._e(),e.isEdit?e._e():s("el-form-item",{attrs:{label:"ADSL",prop:"isAdsl"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.isAdsl,callback:function(t){e.$set(e.form,"isAdsl",t)},expression:"form.isAdsl"}},e._l(e.isAdslOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"地区",prop:"area"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},e._l(e.nationOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),s("el-dialog",{attrs:{title:e.title,visible:e.open_monitor,width:"90%"},on:{"update:visible":function(t){e.open_monitor=t}}},[e.open_monitor?s("monitor",{attrs:{form:e.form}}):e._e()],1)],1)]},proxy:!0}])})},r=[],n=(s("b64b"),s("8a79"),s("fb6a"),s("d81d"),s("f551")),i=s("51fa"),o=s("1a28"),l=s("5c96"),c={name:"VpnServer",components:{monitor:o["default"]},data:function(){return{colors:["#33FF57","#3357FF","#FF33F6","#FF8833","#33FFF3","#8A33FF","#FF3362","#F3FF33","#33FF8A"],loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,open_monitor:!1,isEdit:!1,typeOptions:[],vpnServerList:[],serverSshLoginTypeOptions:[],isAdslOptions:[],statusOptions:[],userIdsOptions:[],nationOptions:[],queryParams:{pageIndex:1,pageSize:10,userIds:[],serverName:void 0,serverIp:void 0,serverSshProt:void 0,serverSshLoginType:void 0,isAdsl:void 0,area:void 0,vpnProtScope:[1e4,6e4],status:void 0},form:{id:void 0,userIds:[],serverName:void 0,serverIp:void 0,serverSshProt:22,serverSshUser:"root",serverSshPasswrod:void 0,serverSshPublicKey:void 0,serverSshLoginType:void 0,isAdsl:void 0,area:void 0,vpnProtScope:[1e4,6e4],status:0},rules:{userIds:[{required:!0,message:"授权用户不能为空",trigger:"blur"}],serverName:[{required:!0,message:"名称不能为空",trigger:"blur"}],serverIp:[{required:!0,message:"IP不能为空",trigger:"blur"}],serverSshProt:[{required:!0,message:"ssh端口不能为空",trigger:"blur"}],isAdsl:[{required:!0,message:"ADSL不能为空",trigger:"blur"}],area:[{required:!0,message:"服务器地区不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getSysUserItems(),this.getDicts("server_login_type").then((function(t){e.serverSshLoginTypeOptions=t.data})),this.getDicts("common_yn").then((function(t){e.isAdslOptions=t.data})),this.getDicts("server_status").then((function(t){e.statusOptions=t.data})),this.getDicts("nation").then((function(t){e.nationOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.vpnServerList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,userIds:this.form.userIds,serverName:void 0,serverIp:void 0,serverSshProt:22,serverSshUser:"root",serverSshPasswrod:this.form.serverSshPasswrod,serverSshPublicKey:this.form.serverSshPublicKey,serverSshLoginType:this.form.serverSshLoginType,isAdsl:this.form.isAdsl,area:this.form.area,vpnProtScope:[1e4,6e4],status:0},this.resetForm("form")},getImgList:function(){this.form[this.fileIndex]=this.$refs["fileChoose"].resultList[0].fullUrl},fileClose:function(){this.fileOpen=!1},userIdsFormat:function(e){var t=JSON.parse(e.userIds),s="";for(var a in t)s+=this.selectItemsLabel(this.userIdsOptions,t[a])+" ";return s.endsWith(" ")&&(s=s.slice(0,-1)),s},userIdFormat:function(e){return this.selectItemsLabel(this.userIdsOptions,e)},serverSshLoginTypeFormat:function(e){return this.selectDictLabel(this.serverSshLoginTypeOptions,e.serverSshLoginType)},isAdslFormat:function(e){return this.selectDictLabel(this.isAdslOptions,e.isAdsl)},nationFormat:function(e){return this.selectDictLabel(this.nationOptions,e.area)},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},getSysUserItems:function(){var e=this;this.getItems(i["h"],void 0).then((function(t){e.userIdsOptions=e.setItems(t,"userId","username")}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加服务器管理",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},monitorOprn:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["c"])(s).then((function(e){var s=t.form.vpnProtScope;""!==e.data.vpnProtScope&&(s=JSON.parse(e.data.vpnProtScope)),e.data.vpnProtScope=s,t.form=e.data,t.title="修改服务器管理",t.open_monitor=!0}))},vpnRestart:function(e){var t=e.id||this.ids;Object(n["k"])(t).then((function(e){Object(l["Message"])({message:"提交成功！",type:"success",duration:5e3})}))},vpnReboot:function(e){var t=e.id||this.ids;Object(n["i"])(t).then((function(e){Object(l["Message"])({message:"提交成功！",type:"success",duration:5e3})}))},handleUpdate:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["c"])(s).then((function(e){var s=t.form.vpnProtScope;""!==e.data.vpnProtScope&&(s=JSON.parse(e.data.vpnProtScope)),e.data.vpnProtScope=s;var a=t.form.userIds;""!==e.data.userIds&&(a=JSON.parse(e.data.userIds)),e.data.userIds=a,t.form=e.data,t.open=!0,t.title="修改服务器管理",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;Object(n["b"])({ids:s}).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)}))},restarts:function(e){var t=this,s=e.id&&[e.id]||this.ids;Object(n["l"])({ids:s}).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)}))},reboots:function(e){var t=this,s=e.id&&[e.id]||this.ids;Object(n["j"])({ids:s}).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)}))}}},u=c,d=s("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},"6d28":function(e,t,s){},"6efe":function(e,t,s){"use strict";s("66d3")},7115:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-activity"},[s("div",{staticClass:"post"},[s("div",{staticClass:"user-block"},[s("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/57ed425a-c71e-4201-9428-68760c0537c4.jpg"+e.avatarPrefix}}),s("span",{staticClass:"username text-muted"},[e._v("Iron Man")]),s("span",{staticClass:"description"},[e._v("Shared publicly - 7:30 PM today")])]),s("p",[e._v(" Lorem ipsum represents a long-held tradition for designers, typographers and the like. Some people hate it and argue for its demise, but others ignore the hate as they create awesome tools to help create filler text for everyone from bacon lovers to Charlie Sheen fans. ")]),s("ul",{staticClass:"list-inline"},[e._m(0),s("li",[s("span",{staticClass:"link-black text-sm"},[s("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like ")],1)])])]),s("div",{staticClass:"post"},[s("div",{staticClass:"user-block"},[s("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/9e2a5d0a-bd5b-457f-ac8e-86554616c87b.jpg"+e.avatarPrefix}}),s("span",{staticClass:"username text-muted"},[e._v("Captain American")]),s("span",{staticClass:"description"},[e._v("Sent you a message - yesterday")])]),s("p",[e._v(" Lorem ipsum represents a long-held tradition for designers, typographers and the like. Some people hate it and argue for its demise, but others ignore the hate as they create awesome tools to help create filler text for everyone from bacon lovers to Charlie Sheen fans. ")]),s("ul",{staticClass:"list-inline"},[e._m(1),s("li",[s("span",{staticClass:"link-black text-sm"},[s("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like ")],1)])])]),s("div",{staticClass:"post"},[s("div",{staticClass:"user-block"},[s("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/fb57f689-e1ab-443c-af12-8d4066e202e2.jpg"+e.avatarPrefix}}),s("span",{staticClass:"username"},[e._v("Spider Man")]),s("span",{staticClass:"description"},[e._v("Posted 4 photos - 2 days ago")])]),s("div",{staticClass:"user-images"},[s("el-carousel",{attrs:{interval:6e3,type:"card",height:"220px"}},e._l(e.carouselImages,(function(t){return s("el-carousel-item",{key:t},[s("img",{staticClass:"image",attrs:{src:t+e.carouselPrefix}})])})),1)],1),s("ul",{staticClass:"list-inline"},[e._m(2),s("li",[s("span",{staticClass:"link-black text-sm"},[s("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like")],1)])])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"link-black text-sm"},[s("i",{staticClass:"el-icon-share"}),e._v(" Share ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"link-black text-sm"},[s("i",{staticClass:"el-icon-share"}),e._v(" Share ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"link-black text-sm"},[s("i",{staticClass:"el-icon-share"}),e._v(" Share")])])}],n="?imageView2/1/w/80/h/80",i="?imageView2/2/h/440",o={data:function(){return{carouselImages:["https://wpimg.wallstcn.com/9679ffb0-9e0b-4451-9916-e21992218054.jpg","https://wpimg.wallstcn.com/bcce3734-0837-4b9f-9261-351ef384f75a.jpg","https://wpimg.wallstcn.com/d1d7b033-d75e-4cd6-ae39-fcd5f1c0a7c5.jpg","https://wpimg.wallstcn.com/50530061-851b-4ca5-9dc5-2fead928a939.jpg"],avatarPrefix:n,carouselPrefix:i}}},l=o,c=(s("fe22"),s("2877")),u=Object(c["a"])(l,a,r,!1,null,"1066d76c",null);t["default"]=u.exports},"77cb":function(e,t,s){"use strict";s("e22a")},"7b75":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=s("313e"),i=s.n(n),o=s("a7dc");s("817d");var l=3e3,c={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:l}]})}}},u=c,d=s("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},"7e67":function(e,t,s){"use strict";s("2c44")},"7faf":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("About me")])]),s("div",{staticClass:"user-profile"},[s("div",{staticClass:"box-center"},[s("pan-thumb",{attrs:{image:e.user.avatar,height:"100px",width:"100px",hoverable:!1}},[s("div",[e._v("Hello")]),e._v(" "+e._s(e.user.role)+" ")])],1),s("div",{staticClass:"box-center"},[s("div",{staticClass:"user-name text-center"},[e._v(e._s(e.user.name))]),s("div",{staticClass:"user-role text-center text-muted"},[e._v(e._s(e._f("uppercaseFirst")(e.user.role)))])])]),s("div",{staticClass:"user-bio"},[s("div",{staticClass:"user-education user-bio-section"},[s("div",{staticClass:"user-bio-section-header"},[s("svg-icon",{attrs:{"icon-class":"education"}}),s("span",[e._v("Education")])],1),s("div",{staticClass:"user-bio-section-body"},[s("div",{staticClass:"text-muted"},[e._v(" JS in Computer Science from the University of Technology ")])])]),s("div",{staticClass:"user-skills user-bio-section"},[s("div",{staticClass:"user-bio-section-header"},[s("svg-icon",{attrs:{"icon-class":"skill"}}),s("span",[e._v("Skills")])],1),s("div",{staticClass:"user-bio-section-body"},[s("div",{staticClass:"progress-item"},[s("span",[e._v("Vue")]),s("el-progress",{attrs:{percentage:70}})],1),s("div",{staticClass:"progress-item"},[s("span",[e._v("JavaScript")]),s("el-progress",{attrs:{percentage:18}})],1),s("div",{staticClass:"progress-item"},[s("span",[e._v("Css")]),s("el-progress",{attrs:{percentage:12}})],1),s("div",{staticClass:"progress-item"},[s("span",[e._v("ESLint")]),s("el-progress",{attrs:{percentage:100,status:"success"}})],1)])])])])},r=[],n=s("3cbc"),i={components:{PanThumb:n["a"]},props:{user:{type:Object,default:function(){return{name:"",email:"",avatar:"",roles:""}}}}},o=i,l=(s("77cb"),s("2877")),c=Object(l["a"])(o,a,r,!1,null,"0b95296e",null);t["default"]=c.exports},8378:function(e,t,s){"use strict";s("d817")},"87e0":function(e,t,s){},"881d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[s("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),s("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[s("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:add"],expression:"['admin:sysUser:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:edit"],expression:"['admin:sysUser:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:remove"],expression:"['admin:sysUser:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[s("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),s("el-table-column",{attrs:{label:"编号",width:"75",prop:"userId",sortable:"custom"}}),s("el-table-column",{attrs:{label:"登录名",width:"105",prop:"username",sortable:"custom","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"昵称",prop:"nickName","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"Gmail",prop:"email",sortable:"custom","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"备注",prop:"remark",sortable:"custom","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"状态",width:"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"active-value":"2","inactive-value":"1"},on:{change:function(s){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(s){e.$set(t.row,"status",s)},expression:"scope.row.status"}})]}}])}),s("el-table-column",{attrs:{label:"创建时间",prop:"createdAt",sortable:"custom",width:"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",width:"160",fix:"right","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:edit"],expression:"['admin:sysUser:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改 ")]),1!==t.row.userId?s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:remove"],expression:"['admin:sysUser:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除 ")]):e._e(),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:resetPassword"],expression:"['admin:sysUser:resetPassword']"}],attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(s){return e.handleResetPwd(t.row)}}},[e._v("重置 ")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[s("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),s("el-col",{attrs:{span:12}},[void 0==e.form.userId?s("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"角色"}},[s("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleOptions,(function(e){return s("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),s("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[s("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[s("i",{staticClass:"el-icon-upload"}),s("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或 "),s("em",[e._v("点击上传")])]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[s("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v(" 是否更新已经存在的用户数据 "),s("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:e.importTemplate}},[e._v("下载模板")])],1),s("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("提示：仅允许导入“xls”或“xlsx”格式文件！")])]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),s("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},r=[],n=(s("4de4"),s("d3b7"),s("d81d"),s("51fa")),i=s("5f87"),o=s("94d5"),l=(s("542c"),s("189e")),c={name:"SysUserManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(i["a"])()},url:"/system/user/importData"},queryParams:{pageIndex:1,pageSize:10,username:void 0,phone:void 0,status:void 0,deptId:void 0},rules:{username:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getList(),this.getTreeselect(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),Object(l["g"])({}).then((function(t){e.roleOptions=t.data.list})),this.getDicts("sys_user_sex").then((function(t){e.sexOptions=t.data})),this.getConfigKey("sys_user_initPassword").then((function(t){e.initPassword=t.data.configValue}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["h"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.data.list,e.total=t.data.count,e.loading=!1}))},getTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId="/"+e.id+"/",this.getList()},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.label,children:e.children}},handleSortChang:function(e,t,s){t=e.prop,s=e.order,""!==this.order&&this.order!==t+"Order"&&(this.queryParams[this.order]=void 0),"descending"===s?(this.queryParams[t+"Order"]="desc",this.order=t+"Order"):"ascending"===s?(this.queryParams[t+"Order"]="asc",this.order=t+"Order"):this.queryParams[t+"Order"]=void 0,this.getList()},handleStatusChange:function(e){var t=this,s="2"===e.status?"启用":"停用";this.$confirm('确认要"'+s+'""'+e.username+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e)})).then((function(){t.msgSuccess(s+"成功")})).catch((function(){e.status="2"===e.status?"1":"2"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,username:void 0,nickName:void 0,password:void 0,phone:void 0,email:void 0,sex:void 0,status:"2",remark:void 0,postIds:void 0,roleIds:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.queryParams.deptId="",this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加用户",this.form.password=this.initPassword},handleUpdate:function(e){var t=this;this.reset();var s=e.userId||this.ids;Object(n["e"])(s).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.username+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(s){var a=s.value;Object(n["i"])(e.userId,a).then((function(e){200===e.code?t.msgSuccess(e.msg):t.msgError(e.msg)}))})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.userId?Object(n["j"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.userId&&[e.userId]||this.ids;this.$confirm('是否确认删除用户编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(n["g"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,s){this.upload.isUploading=!0},handleFileSuccess:function(e,t,s){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}},u=c,d=s("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},"88c9":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-row",[s("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[s("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,"auto-crop":e.options.autoCrop,"auto-crop-width":e.options.autoCropWidth,"auto-crop-height":e.options.autoCropHeight,"fixed-box":e.options.fixedBox},on:{realTime:e.realTime}})],1),s("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[s("div",{staticClass:"avatar-upload-preview"},[s("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),s("br"),s("el-row",[s("el-col",{attrs:{lg:2,md:2}},[s("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[s("el-button",{attrs:{size:"small"}},[e._v(" 上传 "),s("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),s("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[s("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),s("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[s("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),s("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[s("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),s("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[s("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),s("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},r=[],n=s("4360"),i=s("7e79"),o=s("51fa"),l={components:{VueCropper:i["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",options:{img:n["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1===e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var s=new FileReader;s.readAsDataURL(e),s.onload=function(){t.options.img=s.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var s=new FormData;s.append("upload[]",t),Object(o["l"])(s).then((function(t){200===t.code?(e.open=!1,e.options.img=""+t.data,e.msgSuccess(t.msg)):e.msgError(t.msg),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=l,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=d.exports},"89a2":function(e,t,s){"use strict";s("1ef6")},"8a81":function(e,t,s){},"8ad2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"inline-block"}},[s("label",{staticClass:"radio-label"},[e._v("Cell Auto-Width: ")]),s("el-radio-group",{model:{value:e.autoWidth,callback:function(t){e.autoWidth=t},expression:"autoWidth"}},[s("el-radio",{attrs:{label:!0,border:""}},[e._v(" True ")]),s("el-radio",{attrs:{label:!1,border:""}},[e._v(" False ")])],1)],1)},r=[],n={props:{value:{type:Boolean,default:!0}},computed:{autoWidth:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},"8d81":function(e,t,s){},9087:function(e,t,s){},"913c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[s("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),s("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[s("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:add"],expression:"['admin:sysPost:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:edit"],expression:"['admin:sysPost:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:remove"],expression:"['admin:sysPost:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:export"],expression:"['admin:sysPost:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList,border:""},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"岗位编号",width:"80",align:"center",prop:"postId"}}),s("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),s("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),s("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"sort"}}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:1===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),s("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:edit"],expression:"['admin:sysPost:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:remove"],expression:"['admin:sysPost:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[s("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),s("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[s("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),s("el-form-item",{attrs:{label:"岗位顺序",prop:"sort"}},[s("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),s("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[s("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("d3b7"),s("3ca3"),s("ddb0"),s("b775"));function i(e){return Object(n["a"])({url:"/api/v1/post",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/api/v1/post/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/api/v1/post",method:"post",data:e})}function c(e,t){return Object(n["a"])({url:"/api/v1/post/"+t,method:"put",data:e})}function u(e){return Object(n["a"])({url:"/api/v1/post",method:"delete",data:e})}var d=s("ed08"),p={name:"SysPostManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageIndex:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.postList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,sort:0,status:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var s=e.postId||this.ids;o(s).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.postId?c(e.form,e.form.postId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.postId&&[e.postId]||this.ids;this.$confirm('是否确认删除岗位编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([s.e("chunk-7804fb46"),s.e("chunk-2d0cc0b6")]).then(s.bind(null,"4bf8")).then((function(t){var s=["岗位编号","岗位编码","岗位名称","排序","创建时间"],a=["postId","postCode","postName","sort","createdAt"],r=e.postList,n=Object(d["c"])(a,r);t.export_json_to_excel({header:s,data:n,filename:"岗位管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))})).catch((function(){}))}}},m=p,f=s("2877"),h=Object(f["a"])(m,a,r,!1,null,null,null);t["default"]=h.exports},"91c0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[s("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),s("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[s("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:add"],expression:"['admin:sysDictType:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:edit"],expression:"['admin:sysDictType:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:remove"],expression:"['admin:sysDictType:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:export"],expression:"['admin:sysDictType:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList,border:""},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"字典编号",width:"80",align:"center",prop:"id"}}),s("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("router-link",{staticClass:"link-type",attrs:{to:{name:"SysDictDataManage",params:{dictId:t.row.id}}}},[s("span",[e._v(e._s(t.row.dictType))])])]}}])}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),s("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:edit"],expression:"['admin:sysDictType:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:remove"],expression:"['admin:sysDictType:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[s("el-input",{attrs:{placeholder:"请输入字典名称",disabled:e.isEdit},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),s("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[s("el-input",{attrs:{placeholder:"请输入字典类型",disabled:e.isEdit},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("d3b7"),s("3ca3"),s("ddb0"),s("189a")),i=s("ed08"),o={name:"SysDictTypeManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",isEdit:!1,open:!1,statusOptions:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,parseInt(e.status))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,dictName:void 0,dictType:void 0,status:"2",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["c"])(s).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.open=!0,t.title="修改字典类型",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.id?Object(n["f"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除字典编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:s})})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([s.e("chunk-7804fb46"),s.e("chunk-2d0cc0b6")]).then(s.bind(null,"4bf8")).then((function(t){var s=["字典编号","字典名称","字典类型","状态","备注"],a=["id","dictName","dictType","status","remark"],r=e.typeList,n=Object(i["c"])(a,r);t.export_json_to_excel({header:s,data:n,filename:"字典管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},l=o,c=s("2877"),u=Object(c["a"])(l,a,r,!1,null,null,null);t["default"]=u.exports},9372:function(e,t,s){},9406:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-row",{staticClass:"mb10",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:12}},[e.info.cpu?s("el-card",{staticClass:"box-card",attrs:{shadow:"always","body-style":{paddingTop:"0 !important"}}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:8}},[s("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(" Runing ")])],1),s("el-col",{staticStyle:{"line-height":"28px","text-align":"center"},attrs:{sm:24,md:8}},[e._v(" "+e._s(e.info.location)+" ")])],1)],1),s("div",{staticClass:"monitor",staticStyle:{"padding-top":"0px"}},[s("div",{staticClass:"monitor-content"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:12}},[s("Cell",{attrs:{label:"系统",value:e.info.os.goOs,border:""}}),s("Cell",{attrs:{label:"内存",value:e.info.mem.used+"MB/"+e.info.mem.total+"MB",border:""}}),s("Cell",{attrs:{label:"交换",value:e.info.swap.used+"/"+e.info.swap.total,border:""}})],1),s("el-col",{attrs:{sm:24,md:12}},[s("Cell",{attrs:{label:"时间",value:e.info.os.time,border:""}}),s("Cell",{attrs:{label:"在线",value:e.info.bootTime+"小时",border:""}}),s("Cell",{attrs:{label:"硬盘",value:e.info.disk.used+"GB/"+e.info.disk.total+"GB",border:""}})],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{staticClass:"line",attrs:{sm:12,md:12}},[s("el-row",[s("el-col",{attrs:{span:"12",sm:8,md:8,xs:"12"}},[e._v(" 下载"),s("i",{staticClass:"el-icon-caret-bottom"})]),s("el-col",{staticClass:"line-value",attrs:{span:"12",sm:16,md:16,xs:"12"}},[e._v(" "+e._s(e.info.net.in)+"KB ")])],1)],1),s("el-col",{staticClass:"line",attrs:{sm:12,md:12}},[s("el-row",{attrs:{border:""}},[s("el-col",{attrs:{span:"12",sm:6,md:8}},[e._v(" 上传"),s("i",{staticClass:"el-icon-caret-top"})]),s("el-col",{staticClass:"line-value",attrs:{span:"12",sm:6,md:16}},[e._v(" "+e._s(e.info.net.out)+"KB ")])],1)],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:4}},[e._v(" CPU ")]),s("el-col",{attrs:{sm:24,md:20}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.cpu.percent}})],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:4}},[e._v(" RAM ")]),s("el-col",{attrs:{sm:24,md:20}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.mem.percent}})],1)],1),s("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:4}},[e._v(" 硬盘 ")]),s("el-col",{attrs:{sm:24,md:20}},[s("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.disk.percent}})],1)],1)],1)])]):e._e()],1),e.info.os?s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("服务器信息")])]),s("div",{staticClass:"monitor"},[s("Cell",{attrs:{label:"主机名称",value:e.info.os.hostName,border:""}}),s("Cell",{attrs:{label:"操作系统",value:e.info.os.goOs,border:""}}),s("Cell",{attrs:{label:"服务器IP",value:e.info.os.ip,border:""}}),s("Cell",{attrs:{label:"系统架构",value:e.info.os.arch,border:""}}),s("Cell",{attrs:{label:"CPU",value:e.info.cpu.cpuInfo[0].modelName,border:""}}),s("Cell",{attrs:{label:"当前时间",value:e.info.os.time}})],1)]):e._e()],1)]},proxy:!0}])})],1)},r=[],n=s("9eeb"),i=s("cc0b"),o={name:"Monitor",components:{Cell:n["a"]},data:function(){return{info:{},customColors:[{color:"#13ce66",percentage:20},{color:"#1890ff",percentage:40},{color:"#e6a23c",percentage:60},{color:"#1989fa",percentage:80},{color:"#F56C6C",percentage:100}],timer:null}},created:function(){var e=this;this.getServerInfo(),this.timer=setInterval((function(){e.getServerInfo()}),1e3)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},methods:{getServerInfo:function(){var e=this;Object(i["a"])().then((function(t){200===t.code&&(e.info=t)}))}}},l=o,c=(s("4499"),s("2877")),u=Object(c["a"])(l,a,r,!1,null,"2ac2a44d",null);t["default"]=u.exports},"94ce":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",[s("el-form-item",[s("el-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini"}},[e._v("状态")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"}},[e._v("清空")])],1)],1),s("el-row",{ref:"log",staticClass:"mb8",attrs:{gutter:10}},[s("el-scrollbar",{staticStyle:{height:"500px","background-color":"black",color:"cornflowerblue"}},[s("ul",{staticStyle:{"line-height":"25px","padding-top":"15px","padding-bottom":"15px","min-height":"500px",margin:"0","list-style-type":"none"}},e._l(e.arrs,(function(t,a){return s("li",{key:a},[e._v(" "+e._s(t)+" ")])})),0)])],1)],1)]},proxy:!0}])})},r=[],n=(s("ac1f"),s("5319"),s("d3b7"),s("25f0"),s("b775"));function i(e,t){return Object(n["a"])({url:"/wslogout/"+e+"/"+t,method:"get"})}var o={name:"SysJobLogManage",data:function(){return{websock:null,arrs:[],id:void 0,group:void 0}},created:function(){this.id=this.guid(),this.group="log",this.initWebSocket()},destroyed:function(){console.log("断开websocket连接"),this.websock.close(),i(this.id,this.group).then((function(e){console.log(e.data)}))},methods:{initWebSocket:function(){console.log(this.$store.state.user.token);var e="ws://127.0.0.1:8000/ws/"+this.id+"/"+this.group+"?token="+this.$store.state.user.token;this.websock=new WebSocket(e),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("连接打开")},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(e){console.log(e.data),this.arrs.unshift(e.data)},websocketsend:function(e){},websocketclose:function(e){i(this.id,this.group).then((function(e){console.log(e.data)})),console.log("断开连接",e)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,s="x"===e?t:3&t|8;return s.toString(16)}))}}},l=o,c=s("2877"),u=Object(c["a"])(l,a,r,!1,null,null,null);t["default"]=u.exports},"94d5":function(e,t,s){"use strict";s.d(t,"d",(function(){return r})),s.d(t,"c",(function(){return n})),s.d(t,"f",(function(){return i})),s.d(t,"e",(function(){return o})),s.d(t,"a",(function(){return l})),s.d(t,"g",(function(){return c})),s.d(t,"b",(function(){return u}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/dept",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/dept/"+e,method:"get"})}function i(){return Object(a["a"])({url:"/api/v1/deptTree",method:"get"})}function o(e){return Object(a["a"])({url:"/api/v1/roleDeptTreeselect/"+e,method:"get"})}function l(e){return Object(a["a"])({url:"/api/v1/dept",method:"post",data:e})}function c(e,t){return Object(a["a"])({url:"/api/v1/dept/"+t,method:"put",data:e})}function u(e){return Object(a["a"])({url:"/api/v1/dept",method:"delete",data:e})}},"95b0":function(e,t,s){"use strict";s.d(t,"d",(function(){return r})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return i})),s.d(t,"e",(function(){return o})),s.d(t,"b",(function(){return l}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/sys-api",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/sys-api/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/api/v1/sys-api",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/api/v1/sys-api/"+e.id,method:"put",data:e})}function l(e){return Object(a["a"])({url:"/api/v1/sys-api",method:"delete",data:e})}},"9d0f":function(e,t,s){"use strict";s("0fa8")},"9ed6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[s("div",{attrs:{id:"particles-js"}}),s("div",{staticClass:"login-weaper animated bounceInDown"},[s("div",{staticClass:"login-left"},[s("div",{staticClass:"login-time",domProps:{textContent:e._s(e.currentTime)}}),s("img",{staticClass:"img",attrs:{src:e.sysInfo.sys_app_logo,alt:""}}),s("p",{staticClass:"title",domProps:{textContent:e._s(e.sysInfo.sys_app_name)}})]),s("div",{staticClass:"login-border"},[s("div",{staticClass:"login-main"},[s("div",{staticClass:"login-title"},[e._v("用户登录")]),s("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[s("el-form-item",{attrs:{prop:"username"}},[s("span",{staticClass:"svg-container"},[s("i",{staticClass:"el-icon-user"})]),s("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),s("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),s("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),s("el-form-item",{staticStyle:{width:"66%",float:"left"},attrs:{prop:"code"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"validCode"}})],1),s("el-input",{ref:"username",staticStyle:{width:"75%"},attrs:{placeholder:"验证码",name:"username",type:"text",tabindex:"3",maxlength:"5",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1),s("div",{staticClass:"login-code",staticStyle:{cursor:"pointer",width:"30%",height:"48px",float:"right","background-color":"#f0f1f5"}},[s("img",{staticStyle:{height:"48px",width:"100%",border:"1px solid rgba(0, 0, 0, 0.1)","border-radius":"5px"},attrs:{src:e.codeUrl},on:{click:e.getCode}})]),s("el-button",{staticStyle:{width:"100%",padding:"12px 20px","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?s("span",[e._v("登 录 中...")]):s("span",[e._v("登 录")])])],1)],1)])]),s("el-dialog",{attrs:{title:"Or connect with",visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t}}},[e._v(" Can not be simulated on local, so please combine you own business simulation! ! ! "),s("br"),s("br"),s("br"),s("social-sign")],1),e._m(0)],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"s-bottom-layer s-isindex-wrap",staticStyle:{visibility:"visible",width:"100%"},attrs:{id:"bottom_layer"}},[s("div",{staticClass:"s-bottom-layer-content"},[s("div",{staticClass:"lh"},[s("a",{staticClass:"text-color",attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[e._v(" 沪ICP备XXXXXXXXX号-1 ")])]),s("div",{staticClass:"open-content-info"},[s("div",{staticClass:"tip-hover-panel",staticStyle:{top:"-18px",right:"-12px"}},[s("div",{staticClass:"rest_info_tip"},[s("div",{staticClass:"tip-wrapper"},[s("div",{staticClass:"lh tip-item",staticStyle:{display:"none"}},[s("a",{staticClass:"text-color",attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[e._v(" 沪ICP备XXXXXXXXX号-1 ")])])])])])])])])}],n=(s("14d9"),s("13d5"),s("d3b7"),s("b64b"),s("7ded")),i=s("c1df"),o=s.n(i),l=s("c62e"),c={name:"Login",components:{SocialSign:l["default"]},data:function(){return{codeUrl:"",cookiePassword:"",refreshParticles:!0,loginForm:{username:"admin",password:"123456",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},currentTime:null,sysInfo:""}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.getCode(),this.getCurrentTime(),this.getSystemSetting()},mounted:function(){var e=this;""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus(),window.addEventListener("resize",(function(){e.refreshParticles=!1,e.$nextTick((function(){return e.refreshParticles=!0}))}))},destroyed:function(){clearInterval(this.timer),window.removeEventListener("resize",(function(){}))},methods:{getSystemSetting:function(){var e=this;this.$store.dispatch("system/settingDetail").then((function(t){e.sysInfo=t,document.title=t.sys_app_name}))},getCurrentTime:function(){var e=this;this.timer=setInterval((function(t){e.currentTime=o()().format("YYYY-MM-DD HH时mm分ss秒")}),1e3)},getCode:function(){var e=this;Object(n["a"])().then((function(t){void 0!==t&&(e.codeUrl=t.data,e.loginForm.uuid=t.id)}))},checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,s=e.key;s&&1===s.length&&(this.capsTooltip=!!(t&&s>="a"&&s<="z"||!t&&s>="A"&&s<="Z")),"CapsLock"===s&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}).catch((function(){}))})).catch((function(){e.loading=!1,e.getCode()}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,s){return"redirect"!==s&&(t[s]=e[s]),t}),{})}}},u=c,d=(s("0949"),s("2877")),p=Object(d["a"])(u,a,r,!1,null,"6797f0a4",null);t["default"]=p.exports},"9eeb":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cell"},[s("div",{staticClass:"cell-inner",class:e.border?"border":""},[s("div",{staticClass:"cell-item"},[s("div",{staticClass:"cell-item-label"},[e.label?s("span",[e._v(" "+e._s(e.label)+" ")]):s("span",[e._t("label")],2)]),s("div",{staticClass:"cell-item-value"},[e.value?s("span",[e._v(" "+e._s(e.value)+" ")]):s("span",[e._t("value")],2)])]),s("div",{staticClass:"cell-item mt5"},[e.extra?s("span",[e._v(e._s(e.extra))]):s("span",[e._t("extra")],2)])])])},r=[],n={name:"Cell",props:{border:{type:Boolean,default:!1},label:{type:String,default:""},value:{type:String,default:""},extra:{type:String,default:""}}},i=n,o=(s("c9b5"),s("2877")),l=Object(o["a"])(i,a,r,!1,null,"8a6f07fe",null);t["a"]=l.exports},a137:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),s("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","highlight-current-row":""}},e._l(e.tableHeader,(function(e){return s("el-table-column",{key:e,attrs:{prop:e,label:e}})})),1)],1)},r=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),s("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v(" Drop excel file here or "),s("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v(" Browse ")])],1)])},i=[],o=(s("d3b7"),s("14d9"),s("ac1f"),s("00b4"),s("b0c0"),s("1146")),l=s.n(o),c={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,s=e.results;this.excelData.header=t,this.excelData.results=s,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var s=t[0];if(!this.isExcel(s))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(s),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,s=t[0];s&&this.upload(s)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(s,a){var r=new FileReader;r.onload=function(e){var a=e.target.result,r=l.a.read(a,{type:"array"}),n=r.SheetNames[0],i=r.Sheets[n],o=t.getHeaderRow(i),c=l.a.utils.sheet_to_json(i);t.generateData({header:o,results:c}),t.loading=!1,s()},r.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,s=[],a=l.a.utils.decode_range(e["!ref"]),r=a.s.r;for(t=a.s.c;t<=a.e.c;++t){var n=e[l.a.utils.encode_cell({c:t,r:r})],i="UNKNOWN "+t;n&&n.t&&(i=l.a.utils.format_cell(n)),s.push(i)}return s},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},u=c,d=(s("8378"),s("2877")),p=Object(d["a"])(u,n,i,!1,null,"d2407dd6",null),m=p.exports,f={name:"UploadExcel",components:{UploadExcelComponent:m},data:function(){return{tableData:[],tableHeader:[]}},methods:{beforeUpload:function(e){var t=e.size/1024/1024<10;return!!t||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(e){var t=e.results,s=e.header;this.tableData=t,this.tableHeader=s}}},h=f,v=Object(d["a"])(h,a,r,!1,null,null,null);t["default"]=v.exports},a36b:function(e,t,s){e.exports=s.p+"img/404.a57b6f31.png"},a595:function(e,t,s){},a7dc:function(e,t,s){"use strict";s.r(t);var a=s("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(a["b"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},a8c4:function(e,t,s){var a={"./views/admin/dict":"91c0","./views/admin/dict/":"91c0","./views/admin/dict/data":"5ec1","./views/admin/dict/data.vue":"5ec1","./views/admin/dict/index":"91c0","./views/admin/dict/index.vue":"91c0","./views/admin/sys-api":"0dee","./views/admin/sys-api/":"0dee","./views/admin/sys-api/index":"0dee","./views/admin/sys-api/index.vue":"0dee","./views/admin/sys-config":"42e1","./views/admin/sys-config/":"42e1","./views/admin/sys-config/index":"42e1","./views/admin/sys-config/index.vue":"42e1","./views/admin/sys-config/set":"d66d","./views/admin/sys-config/set.vue":"d66d","./views/admin/sys-dept":"332d","./views/admin/sys-dept/":"332d","./views/admin/sys-dept/index":"332d","./views/admin/sys-dept/index.vue":"332d","./views/admin/sys-login-log":"0c55","./views/admin/sys-login-log/":"0c55","./views/admin/sys-login-log/index":"0c55","./views/admin/sys-login-log/index.vue":"0c55","./views/admin/sys-menu":"f2b7","./views/admin/sys-menu/":"f2b7","./views/admin/sys-menu/index":"f2b7","./views/admin/sys-menu/index.vue":"f2b7","./views/admin/sys-oper-log":"e0ee","./views/admin/sys-oper-log/":"e0ee","./views/admin/sys-oper-log/index":"e0ee","./views/admin/sys-oper-log/index.vue":"e0ee","./views/admin/sys-post":"913c","./views/admin/sys-post/":"913c","./views/admin/sys-post/index":"913c","./views/admin/sys-post/index.vue":"913c","./views/admin/sys-role":"b6be","./views/admin/sys-role/":"b6be","./views/admin/sys-role/index":"b6be","./views/admin/sys-role/index.vue":"b6be","./views/admin/sys-user":"881d","./views/admin/sys-user/":"881d","./views/admin/sys-user/index":"881d","./views/admin/sys-user/index.vue":"881d","./views/dashboard":"9406","./views/dashboard/":"9406","./views/dashboard/admin":"3f2c","./views/dashboard/admin/":"3f2c","./views/dashboard/admin/components/BarChart":"5f84","./views/dashboard/admin/components/BarChart.vue":"5f84","./views/dashboard/admin/components/LineChart":"36ef","./views/dashboard/admin/components/LineChart.vue":"36ef","./views/dashboard/admin/components/PanelGroup":"6768","./views/dashboard/admin/components/PanelGroup.vue":"6768","./views/dashboard/admin/components/PieChart":"2044","./views/dashboard/admin/components/PieChart.vue":"2044","./views/dashboard/admin/components/RaddarChart":"7b75","./views/dashboard/admin/components/RaddarChart.vue":"7b75","./views/dashboard/admin/components/TodoList":"2544","./views/dashboard/admin/components/TodoList/":"2544","./views/dashboard/admin/components/TodoList/Todo":"ced4","./views/dashboard/admin/components/TodoList/Todo.vue":"ced4","./views/dashboard/admin/components/TodoList/index":"2544","./views/dashboard/admin/components/TodoList/index.scss":"5211","./views/dashboard/admin/components/TodoList/index.vue":"2544","./views/dashboard/admin/components/mixins/resize":"a7dc","./views/dashboard/admin/components/mixins/resize.js":"a7dc","./views/dashboard/admin/index":"3f2c","./views/dashboard/admin/index.vue":"3f2c","./views/dashboard/editor":"5851","./views/dashboard/editor/":"5851","./views/dashboard/editor/index":"5851","./views/dashboard/editor/index.vue":"5851","./views/dashboard/index":"9406","./views/dashboard/index.vue":"9406","./views/dev-tools/build":"c185","./views/dev-tools/build/":"c185","./views/dev-tools/build/index":"c185","./views/dev-tools/build/index.vue":"c185","./views/dev-tools/gen":"ca68","./views/dev-tools/gen/":"ca68","./views/dev-tools/gen/basicInfoForm":"651f","./views/dev-tools/gen/basicInfoForm.vue":"651f","./views/dev-tools/gen/editTable":"29d6","./views/dev-tools/gen/editTable.vue":"29d6","./views/dev-tools/gen/genInfoForm":"2d1d","./views/dev-tools/gen/genInfoForm.vue":"2d1d","./views/dev-tools/gen/importTable":"bc04","./views/dev-tools/gen/importTable.vue":"bc04","./views/dev-tools/gen/index":"ca68","./views/dev-tools/gen/index.vue":"ca68","./views/dev-tools/swagger":"380d","./views/dev-tools/swagger/":"380d","./views/dev-tools/swagger/index":"380d","./views/dev-tools/swagger/index.vue":"380d","./views/error-page/401":"24e2","./views/error-page/401.vue":"24e2","./views/error-page/404":"1db4","./views/error-page/404.vue":"1db4","./views/excel/components/AutoWidthOption":"8ad2","./views/excel/components/AutoWidthOption.vue":"8ad2","./views/excel/components/BookTypeOption":"ebe1","./views/excel/components/BookTypeOption.vue":"ebe1","./views/excel/components/FilenameOption":"50ce","./views/excel/components/FilenameOption.vue":"50ce","./views/excel/upload-excel":"a137","./views/excel/upload-excel.vue":"a137","./views/log":"5905","./views/log/":"5905","./views/log/index":"5905","./views/log/index.vue":"5905","./views/login":"9ed6","./views/login/":"9ed6","./views/login/auth-redirect":"b829","./views/login/auth-redirect.vue":"b829","./views/login/components/SocialSignin":"c62e","./views/login/components/SocialSignin.vue":"c62e","./views/login/index":"9ed6","./views/login/index.vue":"9ed6","./views/profile":"ecac","./views/profile/":"ecac","./views/profile/components/Account":"e206","./views/profile/components/Account.vue":"e206","./views/profile/components/Activity":"7115","./views/profile/components/Activity.vue":"7115","./views/profile/components/Timeline":"fb8d","./views/profile/components/Timeline.vue":"fb8d","./views/profile/components/UserCard":"7faf","./views/profile/components/UserCard.vue":"7faf","./views/profile/index":"ecac","./views/profile/index.vue":"ecac","./views/profile/resetPwd":"3823","./views/profile/resetPwd.vue":"3823","./views/profile/userAvatar":"88c9","./views/profile/userAvatar.vue":"88c9","./views/profile/userInfo":"2dde","./views/profile/userInfo.vue":"2dde","./views/redirect":"ef3c","./views/redirect/":"ef3c","./views/redirect/index":"ef3c","./views/redirect/index.vue":"ef3c","./views/schedule":"4a5b","./views/schedule/":"4a5b","./views/schedule/index":"4a5b","./views/schedule/index.vue":"4a5b","./views/schedule/log":"94ce","./views/schedule/log.vue":"94ce","./views/sys-tools/monitor":"1bfd","./views/sys-tools/monitor.vue":"1bfd","./views/vpn/vpn-node":"b046","./views/vpn/vpn-node-user":"fce1","./views/vpn/vpn-node-user/":"fce1","./views/vpn/vpn-node-user/index":"fce1","./views/vpn/vpn-node-user/index.vue":"fce1","./views/vpn/vpn-node/":"b046","./views/vpn/vpn-node/index":"b046","./views/vpn/vpn-node/index.vue":"b046","./views/vpn/vpn-server":"6a60","./views/vpn/vpn-server/":"6a60","./views/vpn/vpn-server/index":"6a60","./views/vpn/vpn-server/index.vue":"6a60","./views/vpn/vpn-server/monitor":"1a28","./views/vpn/vpn-server/monitor.vue":"1a28"};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="a8c4"},b046:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"服务器",prop:"serverId"}},[s("el-select",{attrs:{placeholder:"请选择",clearable:"",size:"small"},model:{value:e.queryParams.serverId,callback:function(t){e.$set(e.queryParams,"serverId",t)},expression:"queryParams.serverId"}},e._l(e.serverIdOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),s("el-form-item",{attrs:{label:"协议",prop:"protocol"}},[s("el-select",{attrs:{placeholder:"节点管理协议",clearable:"",size:"small"},model:{value:e.queryParams.protocol,callback:function(t){e.$set(e.queryParams,"protocol",t)},expression:"queryParams.protocol"}},e._l(e.protocolOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"用户备注",prop:"other"}},[s("el-input",{attrs:{placeholder:"请输入用户备注",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.other,callback:function(t){e.$set(e.queryParams,"other",t)},expression:"queryParams.other"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"节点管理状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:add"],expression:"['vpn:vpnNode:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:add"],expression:"['vpn:vpnNode:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdds2}},[e._v("批量新增 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:add"],expression:"['vpn:vpnNode:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdds}},[e._v("站群服务器批量新增 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:remove"],expression:"['vpn:vpnNode:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:remove"],expression:"['vpn:vpnNode:remove']"}],attrs:{icon:"el-icon-tickets",size:"mini",disabled:e.multiple},on:{click:e.tickets}},[e._v("导出文本 ")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.vpnNodeList},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"操作",width:"150",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:edit"],expression:"['vpn:vpnNode:edit']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(s){return e.handleCheck(t.row)}},slot:"reference"},[e._v("查看 ")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:edit"],expression:"['vpn:vpnNode:edit']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}},slot:"reference"},[e._v("修改 ")]),s("el-popconfirm",{staticClass:"delete-popconfirm",attrs:{title:"确认要删除吗?","confirm-button-text":"删除"},on:{confirm:function(s){return e.handleDelete(t.row)}}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["vpn:vpnNode:remove"],expression:"['vpn:vpnNode:remove']"}],attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-delete"},slot:"reference"},[e._v("删除 ")])],1)]}}])}),s("el-table-column",{attrs:{label:"用户备注",align:"center",prop:"other",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.other,placement:"top"}},[s("div",{staticClass:"text-ellipsis",staticStyle:{width:"200px"}},[e._v(e._s(t.row.other))])])]}}])}),s("el-table-column",{attrs:{label:"服务器",align:"center",prop:"serverId",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.serverIdFormat(t.row),placement:"top"}},[s("div",{staticClass:"text-ellipsis",staticStyle:{width:"150px"}},[e._v(e._s(e.serverIdFormat(t.row)))])])]}}])}),s("el-table-column",{attrs:{label:"流量↑|↓",align:"center",prop:"up","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(e.sizeFormat(t.row.up)+"/"+e.sizeFormat(t.row.down)))])]}}])}),s("el-table-column",{attrs:{label:"端口",align:"center",prop:"transitPort","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(t.row.transitPort||t.row.port||"生成中..."))])]}}])}),s("el-table-column",{attrs:{label:"出口IP",align:"center",prop:"outputListen",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(t.row.outputListen||"默认主IP"))])]}}])}),s("el-table-column",{attrs:{label:"协议",align:"center",prop:"protocol","show-overflow-tooltip":!0,formatter:e.protocolFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.protocolFormat(t.row))+" ")]}}])}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:1==t.row.status?"success":"danger"}},[e._v(e._s(e.statusFormat(t.row)))])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e.open?s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"}},[e.isGroup?e._e():s("el-form-item",{attrs:{label:"备注",prop:"other"}},[s("el-input",{ref:"otherInput",attrs:{placeholder:e.serverIdToNameFormat(e.form.serverId)},model:{value:e.form.other,callback:function(t){e.$set(e.form,"other",t)},expression:"form.other"}})],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:13}},[s("el-form-item",{attrs:{label:"服务器",prop:"serverId"}},[s("el-select",{attrs:{multiple:e.isAdds2,"collapse-tags":e.isAdds2,placeholder:"请选择"},model:{value:e.form.serverId,callback:function(t){e.$set(e.form,"serverId",t)},expression:"form.serverId"}},e._l(e.serverIdOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e.isGroup||e.isAdds2?e._e():s("el-col",{attrs:{span:11}},[s("el-form-item",{attrs:{label:"监听端口",prop:"port"}},[s("el-input",{attrs:{type:"number",placeholder:"留空自动生成"},model:{value:e.form.port,callback:function(t){e.$set(e.form,"port",t)},expression:"form.port"}})],1)],1)],1),e.isGroup||e.isAdds2?e._e():s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:13}},[s("el-form-item",{attrs:{label:"指定出口",prop:"outputListen"}},[s("el-switch",{staticStyle:{width:"60%"},attrs:{"active-value":-1,"inactive-value":1},model:{value:e.form.outputAuto,callback:function(t){e.$set(e.form,"outputAuto",e._n(t))},expression:"form.outputAuto"}})],1)],1),-1==e.form.outputAuto?s("el-col",{attrs:{span:11}},[s("el-form-item",{attrs:{label:"出口IP",prop:"outputListen"}},[s("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:""},model:{value:e.form.outputListen,callback:function(t){e.$set(e.form,"outputListen",t)},expression:"form.outputListen"}})],1)],1):e._e()],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:13}},[s("el-form-item",{attrs:{label:"中转IP",prop:"transitServerId"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:e.isEdit},model:{value:e.form.transitServerId,callback:function(t){e.$set(e.form,"transitServerId",t)},expression:"form.transitServerId"}},e._l(e.transitServerIdOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e.isGroup||e.isAdds2?e._e():s("el-col",{attrs:{span:11}},[e.form.transitServerId>0?s("el-form-item",{attrs:{label:"中转端口",prop:"transitPort"}},[s("el-input",{attrs:{disabled:e.isEdit,placeholder:"中转端口"},model:{value:e.form.transitPort,callback:function(t){e.$set(e.form,"transitPort",t)},expression:"form.transitPort"}})],1):e._e()],1)],1),s("el-form-item",{attrs:{label:"协议",prop:"protocol"}},[s("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"请选择"},model:{value:e.form.protocol,callback:function(t){e.$set(e.form,"protocol",t)},expression:"form.protocol"}},e._l(e.protocolOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"vmess"==e.form.protocol?s("vmess",{attrs:{settings:e.form.settings,"stream-settings":e.form.streamSettings},on:{"update:settings":e.updateSettings,"update:streamSettings":e.updateStreamSettings}}):e._e(),"shadowsocks"==e.form.protocol?s("shadowsocks",{attrs:{settings:e.form.settings,"stream-settings":e.form.streamSettings},on:{"update:settings":e.updateSettings,"update:streamSettings":e.updateStreamSettings}}):e._e(),"vless"==e.form.protocol?s("vless",{attrs:{settings:e.form.settings,"stream-settings":e.form.streamSettings},on:{"update:settings":e.updateSettings,"update:streamSettings":e.updateStreamSettings}}):e._e(),"socks"==e.form.protocol?s("socks",{attrs:{settings:e.form.settings,"stream-settings":e.form.streamSettings},on:{"update:settings":e.updateSettings,"update:streamSettings":e.updateStreamSettings}}):e._e(),"http"==e.form.protocol?s("http",{attrs:{settings:e.form.settings,"stream-settings":e.form.streamSettings},on:{"update:settings":e.updateSettings,"update:streamSettings":e.updateStreamSettings}}):e._e()],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1):e._e(),e.info?s("el-dialog",{attrs:{title:e.title,visible:e.info,width:"600px"},on:{"update:visible":function(t){e.info=t}}},[s("div",[s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:14}},[s("p",[e._v("备注: "),s("el-tag",[e._v(e._s(e.form.other||e.serverIdToNameFormat(e.form.serverId)))])],1),s("p",[e._v("协议: "),s("el-tag",[e._v(e._s(e.form.protocol))])],1),parseInt(e.form.transitServerId)>0?s("p",[e._v("中转: "),s("el-tag",[e._v(e._s(e.serverIdToIPFormat(e.form.transitServerId)+"->"+e.serverIdToIPFormat(e.form.serverId)))])],1):e._e(),s("p",[e._v("地址: "),s("el-tag",[e._v(e._s(e.serverIdToIPFormat(e.form.transitServerId||e.form.serverId)))])],1),s("p",[e._v("端口: "),s("el-tag",[e._v(e._s(e.form.transitPort||e.form.port))])],1),"vmess"==e.form.protocol?[s("p",[e._v("uuid: "),s("el-tag",[e._v(e._s(e.form.settings.clients[0].id))])],1),s("p",[e._v("alterId: "),s("el-tag",[e._v(e._s(e.form.settings.clients[0].alterId))])],1)]:e._e(),"vless"==e.form.protocol?[s("p",[e._v("uuid: "),s("el-tag",[e._v(e._s(e.form.settings.clients[0].id))])],1)]:e._e(),"shadowsocks"==e.form.protocol?[s("p",[e._v("加密: "),s("el-tag",[e._v(e._s(e.form.settings.method))])],1),s("p",[e._v("密码: "),s("el-tag",[e._v(e._s(e.form.settings.password))])],1)]:e._e(),"socks"==e.form.protocol||"http"==e.form.protocol?[s("p",[e._v("用户名: "),s("el-tag",[e._v(e._s(e.form.settings.accounts[0].user))])],1),s("p",[e._v("密码: "),s("el-tag",[e._v(e._s(e.form.settings.accounts[0].pass))])],1)]:e._e()],2),"vless"==e.form.protocol||"shadowsocks"==e.form.protocol||"vmess"==e.form.protocol?s("el-col",{attrs:{span:10}},[s("vue-qr",{attrs:{text:e.form.importContent,size:200}})],1):e._e()],1)],1),"vless"==e.form.protocol||"shadowsocks"==e.form.protocol||"vmess"==e.form.protocol?s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.copyText(e.form.importContent)}}},[e._v("复制")])],1):e._e()]):e._e()],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("b64b"),s("3bed")),i=s("f551"),o=s("658f5"),l=s.n(o),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"id"}},[s("el-input",{staticStyle:{width:"300px"},model:{value:e.zSettings.clients[0].id,callback:function(t){e.$set(e.zSettings.clients[0],"id","string"===typeof t?t.trim():t)},expression:"zSettings.clients[0].id"}})],1),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"额外 ID"}},[s("el-input",{attrs:{type:"number"},model:{value:e.zSettings.clients[0].alterId,callback:function(t){e.$set(e.zSettings.clients[0],"alterId",e._n(t))},expression:"zSettings.clients[0].alterId"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"禁用不安全加密","label-width":"130px"}},[s("el-switch",{model:{value:e.zSettings.disableInsecureEncryption,callback:function(t){e.$set(e.zSettings,"disableInsecureEncryption",t)},expression:"zSettings.disableInsecureEncryption"}})],1)],1)],1),s("el-form-item",{attrs:{label:"传输"}},[s("el-select",{staticStyle:{width:"20%"},model:{value:e.zStreamSettings.network,callback:function(t){e.$set(e.zStreamSettings,"network",t)},expression:"zStreamSettings.network"}},[s("el-option",{key:"tcp",attrs:{label:"tcp",value:"tcp"}}),s("el-option",{key:"kcp",attrs:{label:"kcp",value:"kcp"}}),s("el-option",{key:"ws",attrs:{label:"ws",value:"ws"}}),s("el-option",{key:"http",attrs:{label:"http",value:"http"}}),s("el-option",{key:"quic",attrs:{label:"quic",value:"quic"}})],1)],1),"tcp"==e.zStreamSettings.network?s("tcp",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"kcp"==e.zStreamSettings.network?s("kcp",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"ws"==e.zStreamSettings.network?s("ws",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"http"==e.zStreamSettings.network?s("http",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"quic"==e.zStreamSettings.network?s("quic",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e()],1)},u=[],d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"http 伪装"}},[s("el-switch",{attrs:{"active-value":"http","inactive-value":"none"},model:{value:e.zStreamSettings.tcpSettings.header.type,callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header,"type",t)},expression:"zStreamSettings.tcpSettings.header.type"}})],1),"http"===e.zStreamSettings.tcpSettings.header.type?s("div",[s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:7}},[s("el-form-item",{attrs:{label:"请求版本","label-width":"80px"}},[s("el-input",{model:{value:e.zStreamSettings.tcpSettings.header.request.version,callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.request,"version",t)},expression:"zStreamSettings.tcpSettings.header.request.version"}})],1)],1),s("el-col",{attrs:{span:7}},[s("el-form-item",{attrs:{label:"请求方法","label-width":"70px"}},[s("el-input",{model:{value:e.zStreamSettings.tcpSettings.header.request.method,callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.request,"method",t)},expression:"zStreamSettings.tcpSettings.header.request.method"}})],1)],1),s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{label:"请求路径"}},e._l(e.zStreamSettings.tcpSettings.header.request.path,(function(t,a){return s("el-row",{key:a},[s("el-input",{model:{value:e.zStreamSettings.tcpSettings.header.request.path[a],callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.request.path,a,t)},expression:"zStreamSettings.tcpSettings.header.request.path[index]"}})],1)})),1)],1)],1),s("el-form-item",{attrs:{label:"请求头"}},[s("el-row",[s("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"名称"},model:{value:e.requestHeadersKey,callback:function(t){e.requestHeadersKey=t},expression:"requestHeadersKey"}}),s("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"值"},model:{value:e.requestHeadersValue,callback:function(t){e.requestHeadersValue=t},expression:"requestHeadersValue"}},[s("template",{slot:"append"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.requestAddHeader()}}},[e._v("+")])],1)],2)],1),e._l(e.zStreamSettings.tcpSettings.header.request.headers,(function(t,a){return s("div",{key:a},[s("el-input",{staticStyle:{width:"50%"},attrs:{disabled:"",value:a,placeholder:"名称"}}),s("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"值"},model:{value:e.zStreamSettings.tcpSettings.header.request.headers[a],callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.request.headers,a,"string"===typeof t?t.trim():t)},expression:"zStreamSettings.tcpSettings.header.request.headers[key]"}},[s("template",{slot:"append"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.requestRemoveHeader(a)}}},[e._v("-")])],1)],2)],1)}))],2),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:7}},[s("el-form-item",{attrs:{label:"响应版本","label-width":"80px"}},[s("el-input",{model:{value:e.zStreamSettings.tcpSettings.header.response.version,callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.response,"version","string"===typeof t?t.trim():t)},expression:"zStreamSettings.tcpSettings.header.response.version"}})],1)],1),s("el-col",{attrs:{span:7}},[s("el-form-item",{attrs:{label:"响应状态","label-width":"70px"}},[s("el-input",{model:{value:e.zStreamSettings.tcpSettings.header.response.status,callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.response,"status",t)},expression:"zStreamSettings.tcpSettings.header.response.status"}})],1)],1),s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{label:"响应说明"}},[s("el-input",{model:{value:e.zStreamSettings.tcpSettings.header.response.reason,callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.response,"reason","string"===typeof t?t.trim():t)},expression:"zStreamSettings.tcpSettings.header.response.reason"}})],1)],1)],1),s("el-form-item",{attrs:{label:"响应头"}},[s("el-row",[s("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"名称"},model:{value:e.responseHeadersKey,callback:function(t){e.responseHeadersKey=t},expression:"responseHeadersKey"}}),s("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"值"},model:{value:e.responseHeadersValue,callback:function(t){e.responseHeadersValue=t},expression:"responseHeadersValue"}},[s("template",{slot:"append"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.responseAddHeader()}}},[e._v("+")])],1)],2)],1),e._l(e.zStreamSettings.tcpSettings.header.response.headers,(function(t,a){return s("div",{key:a},[s("el-input",{staticStyle:{width:"40%"},attrs:{disabled:"",value:a,placeholder:"名称"}}),s("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"值"},model:{value:e.zStreamSettings.tcpSettings.header.response.headers[a],callback:function(t){e.$set(e.zStreamSettings.tcpSettings.header.response.headers,a,t)},expression:"zStreamSettings.tcpSettings.header.response.headers[key]"}},[s("template",{slot:"append"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.responseRemoveHeader(a)}}},[e._v("-")])],1)],2)],1)}))],2)],1):e._e()],1)},p=[],m=s("2ef0"),f=s.n(m),h={props:{streamSettings:{type:Object,Default:{}}},data:function(){return{requestHeadersKey:"",requestHeadersValue:"",responseHeadersKey:"",responseHeadersValue:"",zStreamSettings:{network:"tcp",tcpSettings:{header:{type:"none",request:{version:"1.1",method:"GET",path:["/"],headers:{}},response:{version:"1.1",status:"200",reason:"OK",headers:{}}}}}}},watch:{zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.streamSettings&&this.streamSettings.tcpSettings.header?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings),console.log(this.streamSettings),console.log(this.zStreamSettings)},methods:{requestRemoveHeader:function(e){this.$delete(this.zStreamSettings.tcpSettings.header.request.headers,e)},requestAddHeader:function(){var e=[this.requestHeadersValue];"pragma"===this.requestHeadersKey.toLowerCase()&&(e=this.requestHeadersValue),this.$set(this.zStreamSettings.tcpSettings.header.request.headers,this.requestHeadersKey,e)},responseRemoveHeader:function(e){this.$delete(this.zStreamSettings.tcpSettings.header.response.headers,e)},responseAddHeader:function(){var e=[this.responseHeadersValue];"pragma"===this.responseHeadersKey.toLowerCase()&&(e=this.responseHeadersValue),this.$set(this.zStreamSettings.tcpSettings.header.response.headers,this.responseHeadersKey,e)},updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},v=h,g=s("2877"),b=Object(g["a"])(v,d,p,!1,null,"d11ffd2e",null),y=b.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"伪装"}},[s("el-select",{staticStyle:{width:"280px"},model:{value:e.zStreamSettings.kcpSettings.type,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"type",t)},expression:"zStreamSettings.kcpSettings.type"}},[s("el-option",{key:"none",attrs:{label:"none（not camouflage）",value:"none"}}),s("el-option",{key:"srtp",attrs:{label:"srtp（camouflage video call）",value:"srtp"}}),s("el-option",{key:"utp",attrs:{label:"utp（camouflage BT download）",value:"utp"}}),s("el-option",{key:"wechat-video",attrs:{label:"wechat-video（camouflage WeChat video）",value:"wechat-video"}}),s("el-option",{key:"dtls",attrs:{label:"dtls（camouflage DTLS 1.2 packages）",value:"dtls"}}),s("el-option",{key:"wireguard",attrs:{label:"wireguard（camouflage wireguard packages）",value:"wireguard"}})],1)],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{model:{value:e.zStreamSettings.kcpSettings.seed,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"seed",t)},expression:"zStreamSettings.kcpSettings.seed"}})],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"mtu"}},[s("el-input",{attrs:{type:"number"},model:{value:e.zStreamSettings.kcpSettings.mtu,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"mtu",e._n(t))},expression:"zStreamSettings.kcpSettings.mtu"}})],1)],1),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"tti (ms)"}},[s("el-input",{attrs:{type:"number"},model:{value:e.zStreamSettings.kcpSettings.tti,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"tti",e._n(t))},expression:"zStreamSettings.kcpSettings.tti"}})],1)],1),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"congestion","label-width":"90px"}},[s("el-switch",{model:{value:e.zStreamSettings.kcpSettings.congestion,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"congestion",t)},expression:"zStreamSettings.kcpSettings.congestion"}})],1)],1)],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"uplink capacity (MB/S)","label-width":"160px"}},[s("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:e.zStreamSettings.kcpSettings.upCap,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"upCap",e._n(t))},expression:"zStreamSettings.kcpSettings.upCap"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"downlink capacity (MB/S)","label-width":"180px"}},[s("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:e.zStreamSettings.kcpSettings.downCap,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"downCap",e._n(t))},expression:"zStreamSettings.kcpSettings.downCap"}})],1)],1)],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"read buffer size (MB)","label-width":"160px"}},[s("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:e.zStreamSettings.kcpSettings.readBuffer,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"readBuffer",e._n(t))},expression:"zStreamSettings.kcpSettings.readBuffer"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"write buffer size (MB)","label-width":"180px"}},[s("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:e.zStreamSettings.kcpSettings.writeBuffer,callback:function(t){e.$set(e.zStreamSettings.kcpSettings,"writeBuffer",e._n(t))},expression:"zStreamSettings.kcpSettings.writeBuffer"}})],1)],1)],1)],1)},_=[],S=s("ed08"),x={props:{streamSettings:{type:Object,Default:{}}},data:function(){return{zStreamSettings:{network:"kcp",kcpSettings:{seed:Object(S["f"])(12),type:"none",mtu:1350,tti:20,upCap:5,downCap:20,congestion:!1,readBuffer:2,writeBuffer:2}}}},watch:{zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.streamSettings&&this.streamSettings.kcpSettings?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},k=x,C=Object(g["a"])(k,w,_,!1,null,"2ff59582",null),O=C.exports,I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"路径"}},[s("el-input",{model:{value:e.zStreamSettings.wsSettings.path,callback:function(t){e.$set(e.zStreamSettings.wsSettings,"path","string"===typeof t?t.trim():t)},expression:"zStreamSettings.wsSettings.path"}})],1),s("el-form-item",{attrs:{label:"请求头"}},[s("el-row",[s("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"名称"},model:{value:e.wsHeadersKey,callback:function(t){e.wsHeadersKey=t},expression:"wsHeadersKey"}}),s("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"值"},model:{value:e.wsHeadersValue,callback:function(t){e.wsHeadersValue=t},expression:"wsHeadersValue"}},[s("template",{slot:"append"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.addHeader()}}},[e._v("+")])],1)],2)],1),e._l(e.zStreamSettings.wsSettings.headers,(function(t,a){return s("div",{key:a},[s("el-input",{staticStyle:{width:"40%"},attrs:{disabled:"",value:a,placeholder:"名称"}}),s("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"值"},model:{value:e.zStreamSettings.wsSettings.headers[a],callback:function(t){e.$set(e.zStreamSettings.wsSettings.headers,a,t)},expression:"zStreamSettings.wsSettings.headers[key]"}},[s("template",{slot:"append"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.removeHeader(a)}}},[e._v("-")])],1)],2)],1)}))],2)],1)},z=[],j={props:{streamSettings:{type:Object,Default:{}}},data:function(){return{wsHeadersKey:"",wsHeadersValue:"",zStreamSettings:{network:"ws",wsSettings:{path:"/",headers:{}}}}},watch:{zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.streamSettings&&this.streamSettings.wsSettings?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{updateStreamSettings:function(e){this.$emit("update:streamSettings",e)},removeHeader:function(e){this.$delete(this.zStreamSettings.wsSettings.headers,e)},addHeader:function(){this.$set(this.zStreamSettings.wsSettings.headers,this.wsHeadersKey,this.wsHeadersValue)}}},P=j,$=Object(g["a"])(P,I,z,!1,null,"6292edaf",null),q=$.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"路径"}},[s("el-input",{model:{value:e.zStreamSettings.httpSettings.path,callback:function(t){e.$set(e.zStreamSettings.httpSettings,"path","string"===typeof t?t.trim():t)},expression:"zStreamSettings.httpSettings.path"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"host"}},e._l(e.zStreamSettings.httpSettings.host,(function(t,a){return s("el-row",{key:a},[s("el-input",{model:{value:e.zStreamSettings.httpSettings.host[a],callback:function(t){e.$set(e.zStreamSettings.httpSettings.host,a,"string"===typeof t?t.trim():t)},expression:"zStreamSettings.httpSettings.host[index]"}})],1)})),1)],1)],1)],1)},L=[],N={props:{streamSettings:{type:Object,Default:{}}},data:function(){return{zStreamSettings:{network:"http",httpSettings:{path:"/",host:[""]}}}},watch:{zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.streamSettings&&this.streamSettings.httpSettings?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},E=N,F=Object(g["a"])(E,T,L,!1,null,"a361b3fa",null),D=F.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-row",{attrs:{gutter:0}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"加密"}},[s("el-select",{staticStyle:{width:"165px"},model:{value:e.zStreamSettings.quicSettings.security,callback:function(t){e.$set(e.zStreamSettings.quicSettings,"security",t)},expression:"zStreamSettings.quicSettings.security"}},[s("el-option",{key:"none",attrs:{label:"none",value:"none"}},[e._v("none")]),s("el-option",{key:"aes-128-gcm",attrs:{label:"aes-128-gcm",value:"aes-128-gcm"}},[e._v("aes-128-gcm")]),s("el-option",{key:"chacha20-poly1305",attrs:{label:"chacha20-poly1305",value:"chacha20-poly1305"}},[e._v("chacha20-poly1305")])],1)],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{model:{value:e.zStreamSettings.quicSettings.key,callback:function(t){e.$set(e.zStreamSettings.quicSettings,"key","string"===typeof t?t.trim():t)},expression:"zStreamSettings.quicSettings.key"}})],1)],1)],1),s("el-form-item",{attrs:{label:"伪装"}},[s("el-select",{staticStyle:{width:"280px"},model:{value:e.zStreamSettings.quicSettings.header.type,callback:function(t){e.$set(e.zStreamSettings.quicSettings.header,"type",t)},expression:"zStreamSettings.quicSettings.header.type"}},[s("el-option",{key:"none",attrs:{label:"none（not camouflage）",value:"none"}}),s("el-option",{key:"srtp",attrs:{label:"srtp（camouflage video call）",value:"srtp"}}),s("el-option",{key:"utp",attrs:{label:"utp（camouflage BT download）",value:"utp"}}),s("el-option",{key:"wechat-video",attrs:{label:"wechat-video（camouflage WeChat video）",value:"wechat-video"}}),s("el-option",{key:"dtls",attrs:{label:"dtls（camouflage DTLS 1.2 packages）",value:"dtls"}}),s("el-option",{key:"wireguard",attrs:{label:"wireguard（camouflage wireguard packages）",value:"wireguard"}})],1)],1)],1)},B=[],U={props:{streamSettings:{type:Object,Default:{}}},data:function(){return{zStreamSettings:{network:"quic",quicSettings:{security:"none",key:"",header:{type:"none"}}}}},watch:{zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.streamSettings&&this.streamSettings.quicSettings?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},R=U,Q=Object(g["a"])(R,A,B,!1,null,"be14fc70",null),M=Q.exports,H={components:{tcp:y,kcp:O,ws:q,http:D,quic:M},props:{settings:{type:Object,Default:{}},streamSettings:{type:Object,Default:{}}},data:function(){return{zSettings:{clients:[{id:Object(S["g"])(),alterId:0}],disableInsecureEncryption:!1},zStreamSettings:{network:""}}},watch:{zSettings:{deep:!0,handler:function(e,t){this.updateSettings(e)}},zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.settings&&e.settings.clients?e.zSettings=f.a.cloneDeep(e.settings):e.updateSettings(e.zSettings),e.streamSettings&&Object.keys(e.streamSettings).length>0?e.zStreamSettings=f.a.cloneDeep(e.streamSettings):e.updateStreamSettings(e.zStreamSettings),""===e.zStreamSettings.network&&(e.zStreamSettings.network="tcp")}))},methods:{updateSettings:function(e){this.$emit("update:settings",e)},updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},K=H,G=Object(g["a"])(K,c,u,!1,null,"96389bee",null),V=G.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"id"}},[s("el-input",{model:{value:e.zSettings.clients[0].id,callback:function(t){e.$set(e.zSettings.clients[0],"id",t)},expression:"zSettings.clients[0].id"}})],1),s("el-form-item",{attrs:{label:"fallbacks"}},[s("el-row",[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addFallback()}}},[e._v("+")])],1)],1),e._l(e.zSettings.fallbacks,(function(t,a){return s("div",{key:a},[s("el-divider",[s("i",{staticClass:"el-icon-delete",on:{click:function(){return e.delFallback(a)}}},[e._v(e._s("fallback"+a))])]),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"name"}},[s("el-input",{model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"fallback.name"}})],1)],1),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"alpn"}},[s("el-input",{model:{value:t.alpn,callback:function(s){e.$set(t,"alpn",s)},expression:"fallback.alpn"}})],1)],1),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"path"}},[s("el-input",{model:{value:t.path,callback:function(s){e.$set(t,"path",s)},expression:"fallback.path"}})],1)],1)],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"dest"}},[s("el-input",{model:{value:t.dest,callback:function(s){e.$set(t,"dest",s)},expression:"fallback.dest"}})],1)],1),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"xver"}},[s("el-input",{attrs:{type:"number"},model:{value:t.xver,callback:function(s){e.$set(t,"xver",e._n(s))},expression:"fallback.xver"}})],1)],1)],1),e.zSettings.fallbacks.length-1===a?s("el-divider"):e._e()],1)})),s("el-form-item",{attrs:{label:"传输"}},[s("el-select",{staticStyle:{width:"20%"},model:{value:e.zStreamSettings.network,callback:function(t){e.$set(e.zStreamSettings,"network",t)},expression:"zStreamSettings.network"}},[s("el-option",{key:"tcp",attrs:{label:"tcp",value:"tcp"}}),s("el-option",{key:"kcp",attrs:{label:"kcp",value:"kcp"}}),s("el-option",{key:"ws",attrs:{label:"ws",value:"ws"}}),s("el-option",{key:"http",attrs:{label:"http",value:"http"}}),s("el-option",{key:"quic",attrs:{label:"quic",value:"quic"}})],1)],1),"tcp"==e.zStreamSettings.network?s("tcp",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"kcp"==e.zStreamSettings.network?s("kcp",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"ws"==e.zStreamSettings.network?s("ws",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"http"==e.zStreamSettings.network?s("http",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e(),"quic"==e.zStreamSettings.network?s("quic",{attrs:{"stream-settings":e.zStreamSettings},on:{"update:streamSettings":function(t){e.zStreamSettings=t}}}):e._e()],2)},W=[],Y=(s("14d9"),s("a434"),{components:{tcp:y,kcp:O,ws:q,http:D,quic:M},props:{settings:{type:Object,Default:{}},streamSettings:{type:Object,Default:{}}},data:function(){return{zSettings:{clients:[{id:Object(S["g"])(),flow:""}],fallbacks:[]},newFallbacks:{name:"",alpn:"",path:"",dest:"",xver:""},zStreamSettings:{network:"tcp"}}},watch:{zSettings:{deep:!0,handler:function(e,t){this.updateSettings(e)}},zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.settings&&this.settings.clients?this.zSettings=f.a.cloneDeep(this.settings):this.updateSettings(this.zSettings),this.streamSettings&&Object.keys(this.streamSettings).length>0?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{addFallback:function(){this.zSettings.fallbacks.push(this.newFallbacks)},delFallback:function(e){this.zSettings.fallbacks.splice(e,1)},updateSettings:function(e){this.$emit("update:settings",e)},updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}}),X=Y,Z=Object(g["a"])(X,J,W,!1,null,"ae66326e",null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"加密",prop:"serverId"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.zSettings.method,callback:function(t){e.$set(e.zSettings,"method",t)},expression:"zSettings.method"}},e._l(e.SSMethods,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{model:{value:e.zSettings.password,callback:function(t){e.$set(e.zSettings,"password","string"===typeof t?t.trim():t)},expression:"zSettings.password"}})],1),s("el-form-item",{attrs:{label:"网络"}},[s("el-select",{staticStyle:{width:"100px"},model:{value:e.zSettings.network,callback:function(t){e.$set(e.zSettings,"network",t)},expression:"zSettings.network"}},[s("el-option",{key:"tcp,udp",attrs:{label:"tcp+udp",value:"tcp,udp"}}),s("el-option",{key:"tcp",attrs:{label:"tcp",value:"tcp"}}),s("el-option",{key:"udp",attrs:{label:"udp",value:"udp"}})],1)],1)],1)},se=[],ae={props:{settings:{type:Object,Default:{}},streamSettings:{type:Object,Default:{}}},data:function(){return{SSMethods:{CHACHA20_POLY1305:"chacha20-poly1305",AES_256_GCM:"aes-256-gcm",AES_128_GCM:"aes-128-gcm"},zSettings:{method:"aes-256-gcm",password:"ae343df@q6.asas",network:"tcp,udp"},zStreamSettings:{network:"tcp",security:"none",tcpSettings:{header:{type:"none"}}}}},watch:{zSettings:{deep:!0,handler:function(e,t){this.updateSettings(e)}},zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.settings&&this.settings.method?this.zSettings=f.a.cloneDeep(this.settings):this.updateSettings(this.zSettings),this.streamSettings&&Object.keys(this.streamSettings).length>0?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{updateSettings:function(e){this.$emit("update:settings",e)},updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},re=ae,ne=Object(g["a"])(re,te,se,!1,null,"27ab2ff2",null),ie=ne.exports,oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"密码认证"}},[s("el-switch",{attrs:{value:"password"===e.zSettings.auth},on:{change:function(t){e.zSettings.auth=t?"password":"noauth",t||(e.zSettings.accounts=[])}}})],1),"password"===e.zSettings.auth?[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{staticStyle:{width:"50%"},model:{value:e.zSettings.accounts[0].user,callback:function(t){e.$set(e.zSettings.accounts[0],"user","string"===typeof t?t.trim():t)},expression:"zSettings.accounts[0].user"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{staticStyle:{width:"50%"},model:{value:e.zSettings.accounts[0].pass,callback:function(t){e.$set(e.zSettings.accounts[0],"pass","string"===typeof t?t.trim():t)},expression:"zSettings.accounts[0].pass"}})],1)]:e._e(),s("el-form-item",{attrs:{label:"启用 udp"}},[s("el-switch",{model:{value:e.zSettings.udp,callback:function(t){e.$set(e.zSettings,"udp",t)},expression:"zSettings.udp"}})],1),e.zSettings.udp?s("el-form-item",{attrs:{label:"IP"}},[s("el-input",{model:{value:e.zSettings.ip,callback:function(t){e.$set(e.zSettings,"ip","string"===typeof t?t.trim():t)},expression:"zSettings.ip"}})],1):e._e()],2)},le=[],ce={props:{settings:{type:Object,Default:{}},streamSettings:{type:Object,Default:{}}},data:function(){return{zSettings:{auth:"password",accounts:[{user:Object(S["f"])(5),pass:Object(S["f"])(5)}],udp:!1,ip:"127.0.0.1"},zStreamSettings:{}}},watch:{zSettings:{deep:!0,handler:function(e,t){this.updateSettings(e)}},zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.settings&&this.settings.auth?this.zSettings=f.a.cloneDeep(this.settings):this.updateSettings(this.zSettings),this.streamSettings&&Object.keys(this.streamSettings).length>0?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{updateSettings:function(e){this.$emit("update:settings",e)},updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},ue=ce,de=Object(g["a"])(ue,oe,le,!1,null,"7f34fa0c",null),pe=de.exports,me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{layout:"inline","label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{staticStyle:{width:"50%"},model:{value:e.zSettings.accounts[0].user,callback:function(t){e.$set(e.zSettings.accounts[0],"user","string"===typeof t?t.trim():t)},expression:"zSettings.accounts[0].user"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{staticStyle:{width:"50%"},model:{value:e.zSettings.accounts[0].pass,callback:function(t){e.$set(e.zSettings.accounts[0],"pass","string"===typeof t?t.trim():t)},expression:"zSettings.accounts[0].pass"}})],1)],1)},fe=[],he={props:{settings:{type:Object,Default:{}},streamSettings:{type:Object,Default:{}}},data:function(){return{zSettings:{timeout:30,allowTransparent:!1,userLevel:0,accounts:[{user:Object(S["f"])(5),pass:Object(S["f"])(5)}]},zStreamSettings:{}}},watch:{zSettings:{deep:!0,handler:function(e,t){this.updateSettings(e)}},zStreamSettings:{deep:!0,handler:function(e,t){this.updateStreamSettings(e)}}},mounted:function(){this.settings&&this.settings.accounts?this.zSettings=f.a.cloneDeep(this.settings):this.updateSettings(this.zSettings),this.streamSettings&&Object.keys(this.streamSettings).length>0?this.zStreamSettings=f.a.cloneDeep(this.streamSettings):this.updateStreamSettings(this.zStreamSettings)},methods:{updateSettings:function(e){this.$emit("update:settings",e)},updateStreamSettings:function(e){this.$emit("update:streamSettings",e)}}},ve=he,ge=Object(g["a"])(ve,me,fe,!1,null,"79c1133e",null),be=ge.exports,ye={components:{vmess:V,vless:ee,shadowsocks:ie,socks:pe,http:be,vueQr:l.a},data:function(){return{loading:!0,ids:[],ticketsData:[],single:!0,multiple:!0,total:0,title:"",open:!1,isGroup:!1,info:!1,isEdit:!1,isAdds2:!1,typeOptions:[],vpnNodeList:[],protocolOptions:[],statusOptions:[],serverIdOptions:[],serverIdToIpOptions:[],serverIdToNameOptions:[],transitServerIdOptions:[],transitServerIdToIpOptions:[],queryParams:{pageIndex:1,pageSize:10,transitServerId:void 0,serverId:void 0,protocol:void 0,other:void 0,status:void 0,outputAuto:1},form:{},rules:{serverId:[{required:!0,message:"服务器不能为空",trigger:"blur"}],protocol:[{required:!0,message:"协议不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getVpnServerItems(),this.getTransitServerIdFormat(),this.getDicts("vpn_protocol").then((function(t){e.protocolOptions=t.data})),this.getDicts("common_o").then((function(t){e.statusOptions=t.data}))},methods:{updateSettings:function(e){console.log(e),this.form.settings=e},updateStreamSettings:function(e){console.log(e),this.form.streamSettings=e},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.vpnNodeList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.isGroup=!1,this.form={id:void 0,transitServerId:void 0,transitPort:"",serverId:void 0,outputListen:void 0,port:"",protocol:void 0,settings:{},streamSettings:{},sniffing:"",other:void 0,importContent:void 0},this.resetForm("form")},getImgList:function(){this.form[this.fileIndex]=this.$refs["fileChoose"].resultList[0].fullUrl},fileClose:function(){this.fileOpen=!1},sizeFormat:function(e){return Object(S["i"])(e)},serverIdFormat:function(e){var t=e.serverId;return this.selectItemsLabel(this.serverIdOptions,t)},transitServerIdFormat:function(e){return this.selectItemsLabel(this.transitServerIdOptions,e)},serverIdToIPFormat:function(e){return this.selectItemsLabel(this.serverIdToIpOptions,e)},serverIdToNameFormat:function(e){return this.selectItemsLabel(this.serverIdToNameOptions,e)},transitServerIdToIPFormat:function(e){return this.selectItemsLabel(this.transitServerIdToIpOptions,e)},protocolFormat:function(e){return this.selectDictLabel(this.protocolOptions,e.protocol)},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},getVpnServerItems:function(){var e=this;this.getItems(i["g"],{status:1}).then((function(t){e.serverIdOptions=e.setItems(t,"id",["serverName","serverIp","area","nodes"]),e.serverIdToIpOptions=e.setItems(t,"id","serverIp"),e.serverIdToNameOptions=e.setItems(t,"id",["serverName","area"])}))},getTransitServerIdFormat:function(){var e=this;this.getItems(i["f"],{isAdsl:-1}).then((function(t){e.transitServerIdOptions=e.setItems(t,"id",["serverName","serverIp","area"]),e.transitServerIdToIpOptions=e.setItems(t,"id","serverIp")}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.getVpnServerItems(),this.getTransitServerIdFormat(),this.reset(),this.open=!0,this.title="添加节点管理",this.isEdit=!1,this.isAdds2=!1},handleAdds2:function(){this.getVpnServerItems(),this.getTransitServerIdFormat(),this.reset(),this.open=!0,this.title="添加节点管理",this.isEdit=!1,this.isAdds2=!0},handleAdds:function(){this.reset(),this.open=!0,this.isGroup=!0,this.title="多IP服务器添加节点管理",this.isEdit=!1},handleSelectionChange:function(e){this.ticketsData=e,this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleCheck:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["e"])(s).then((function(e){console.log(e);var s=t.form.settings;e.data.settings.length>0&&(s=JSON.parse(e.data.settings)),e.data.settings=s;var a=t.form.streamSettings;e.data.streamSettings.length>0&&(a=JSON.parse(e.data.streamSettings)),e.data.streamSettings=a,e.data.serverId=e.data.serverId||"",e.data.serverId+="",e.data.transitServerId=e.data.transitServerId||"",e.data.transitServerId+="",t.form=e.data,console.log(t.form),t.info=!0,t.title="节点配置"}))},handleUpdate:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["e"])(s).then((function(e){var s=t.form.settings;e.data.settings.length>0&&(s=JSON.parse(e.data.settings)),e.data.settings=s;var a=t.form.streamSettings;e.data.streamSettings.length>0&&(a=JSON.parse(e.data.streamSettings)),e.data.streamSettings=a,e.data.serverId=e.data.serverId||"",e.data.serverId+="",e.data.transitServerId=e.data.transitServerId||"",e.data.transitServerId+="",t.form=e.data,t.open=!0,t.title="修改节点管理",t.isEdit=!0}))},copyText:function(e){var t=this;navigator.clipboard?navigator.clipboard.writeText(e).then((function(){t.msgSuccess("复制成功")})).catch((function(e){console.log(e),t.msgError("复制失败")})):this.msgError("复制失败")},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(e.form.port+="",e.form.transitPort+="",(void 0===e.form.other||0===e.form.other.length)&&e.$refs.otherInput){var s=e.$refs.otherInput.$el.querySelector("input");console.log("Placeholder:",s.placeholder),e.form.other=s.placeholder}t&&(void 0!==e.form.id?Object(n["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):e.isGroup?Object(n["b"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):e.isAdds2?Object(n["c"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;Object(n["d"])({ids:s}).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)}))},tickets:function(){var e="";for(var t in this.ticketsData)e+=this.ticketsData[t].importContent+"\n";var s="array.txt",a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),a.setAttribute("download",s),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},we=ye,_e=Object(g["a"])(we,a,r,!1,null,null,null);t["default"]=_e.exports},b316:function(e,t,s){},b6be:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[s("el-form-item",{attrs:{label:"名称",prop:"roleName"}},[s("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),s("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[s("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:add"],expression:"['admin:sysRole:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:update"],expression:"['admin:sysRole:update']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:remove"],expression:"['admin:sysRole:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:export"],expression:"['admin:sysRole:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"编码",sortable:"custom",prop:"roleId",width:"80"}}),s("el-table-column",{attrs:{label:"名称",sortable:"custom",prop:"roleName","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),s("el-table-column",{attrs:{label:"排序",sortable:"custom",prop:"roleSort",width:"80"}}),s("el-table-column",{attrs:{label:"状态",sortable:"custom",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"active-value":"2","inactive-value":"1"},on:{change:function(s){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(s){e.$set(t.row,"status",s)},expression:"scope.row.status"}})]}}])}),s("el-table-column",{attrs:{label:"创建时间",sortable:"custom",prop:"createdAt",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"left","class-name":"small-padding fixed-width",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:update"],expression:"['admin:sysRole:update']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:update"],expression:"['admin:sysRole:update']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(s){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),"admin"!==t.row.roleKey?s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:remove"],expression:"['admin:sysRole:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e.open?s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[s("el-input",{attrs:{placeholder:"请输入角色名称",disabled:e.isEdit},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),s("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[s("el-input",{attrs:{placeholder:"请输入权限字符",disabled:e.isEdit},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),s("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[s("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),s("el-form-item",{attrs:{label:"状态"}},[s("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),s("el-form-item",{attrs:{label:"菜单权限"}},[s("el-tree",{ref:"menuTree",staticStyle:{height:"171px","overflow-y":"auto","overflow-x":"hidden"},attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":e.menuOptionsAlert}})],1),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1):e._e(),e.openDataScope?s("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.openDataScope=t}}},[s("el-form",{attrs:{model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"角色名称"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),s("el-form-item",{attrs:{label:"权限字符"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),s("el-form-item",{attrs:{label:"权限范围"}},[s("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[s("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),s("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1):e._e()],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("d3b7"),s("3ca3"),s("ddb0"),s("189e")),i=s("5f141"),o=s("94d5"),l=s("ed08"),c={name:"Role",components:{},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],menuIdsChecked:[],title:"",open:!1,openDataScope:!1,isEdit:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],menuList:[],deptOptions:[],menuOptionsAlert:"加载中，请稍后",queryParams:{pageIndex:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{sysMenu:[]},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getMenuTreeselect(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.data.list,e.total=t.data.count,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(i["e"])(0).then((function(t){e.menuOptions=t.data.menus,e.menuList=e.menuOptions}))},getDeptTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.deptOptions=t.data.list}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menuTree.getHalfCheckedKeys();console.log("目前被选中的菜单节点",e);var t=this.$refs.menuTree.getCheckedKeys();return console.log("半选中的菜单节点",t),t},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getCheckedKeys();return e},getRoleMenuTreeselect:function(e,t){var s=this;"admin"===e.roleKey?(this.menuOptionsAlert="系统超级管理员无需此操作",this.menuOptions=[]):this.$nextTick((function(){s.$refs.menuTree.setCheckedKeys(t)}))},getRoleDeptTreeselect:function(e){var t=this;Object(o["e"])(e).then((function(e){t.deptOptions=e.data.depts,t.$nextTick((function(){t.$refs.dept.setCheckedKeys(e.data.checkedKeys)}))}))},handleStatusChange:function(e){var t=this,s="2"===e.status?"启用":"停用";this.$confirm('确认要"'+s+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.roleId,e.status)})).then((function(e){console.log("res",e),t.msgSuccess(e.msg)})).catch((function(){e.status="2"===e.status?"1":"2"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){this.menuOptions=this.menuList,void 0!==this.$refs.menuTree&&this.$refs.menuTree.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"2",menuIds:[],deptIds:[],sysMenu:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加角色",this.isEdit=!1},handleSortChang:function(e,t,s){t=e.prop,s=e.order,this.queryParams[t+"Order"]="descending"===s?"desc":"ascending"===s?"asc":void 0,this.getList()},handleUpdate:function(e){var t=this;this.menuIdsChecked=[],this.reset();var s=e.roleId||this.ids;Object(n["e"])(s).then((function(s){t.form=s.data,t.menuIdsChecked=s.data.menuIds,t.title="修改角色",t.isEdit=!0,t.open=!0,t.getRoleMenuTreeselect(e,s.data.menuIds)}))},handleDataScope:function(e){var t=this;this.reset(),Object(n["e"])(e.roleId).then((function(s){t.form=s.data,t.openDataScope=!0,t.title="分配数据权限",t.getRoleDeptTreeselect(e.roleId)}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(n["h"])(e.form,e.form.roleId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},submitDataScope:function(){var e=this;void 0!==this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),console.log(this.getDeptAllCheckedKeys()),Object(n["c"])(this.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,s=e.roleId&&[e.roleId]||this.ids;this.$confirm('是否确认删除角色编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])({ids:s})})).then((function(e){t.getList(),t.msgSuccess(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([s.e("chunk-7804fb46"),s.e("chunk-2d0cc0b6")]).then(s.bind(null,"4bf8")).then((function(t){var s=["角色编号","角色名称","权限字符","显示顺序","状态","创建时间"],a=["roleId","roleName","roleKey","roleSort","status","createdAt"],r=e.roleList,n=Object(l["c"])(a,r);t.export_json_to_excel({header:s,data:n,filename:"角色管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},u=c,d=s("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports},b778:function(e,t,s){"use strict";s("6d28")},b829:function(e,t,s){"use strict";s.r(t);s("fb6a"),s("ac1f"),s("841c");var a,r,n={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},bb21:function(e,t,s){},bc04:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh"},on:{"update:visible":function(t){e.visible=t}}},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[s("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[s("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),s("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[s("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",[s("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"tableName",label:"表名称"}}),s("el-table-column",{attrs:{prop:"tableComment",label:"表描述"}}),s("el-table-column",{attrs:{prop:"createdAt",label:"创建时间"}}),s("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间"}})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleImportTable}},[e._v("确 定")]),s("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},r=[],n=(s("d81d"),s("a15b"),s("4aab")),i={data:function(){return{loading:!1,visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageIndex:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(n["f"])(this.queryParams).then((function(t){200===t.code&&(e.dbTableList=t.data.list,e.total=t.data.count)}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;this.loading=!0,this.visible=!0,Object(n["e"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok")),e.loading=!1}))}}},o=i,l=s("2877"),c=Object(l["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},be43:function(e,t,s){"use strict";s("0cda")},bfec:function(e,t,s){"use strict";s("87e0")},c185:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[s("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])])]},proxy:!0}])})},r=[],n={components:{},data:function(){return{src:"/form-generator/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},c24f:function(e,t,s){"use strict";s("c491")},c491:function(e,t,s){},c591:function(e,t,s){"use strict";s("ec4e")},c62e:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"social-signup-container"},[s("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[s("span",{staticClass:"wx-svg-container"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v(" WeChat ")]),s("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[s("span",{staticClass:"qq-svg-container"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v(" QQ ")])])},r=[],n={name:"SocialSignin",methods:{wechatHandleClick:function(e){alert("ok")},tencentHandleClick:function(e){alert("ok")}}},i=n,o=(s("bfec"),s("2877")),l=Object(o["a"])(i,a,r,!1,null,"7309fbbb",null);t["default"]=l.exports},c8b1:function(e,t,s){},c9b5:function(e,t,s){"use strict";s("c8b1")},ca68:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-position":"left"}},[s("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[s("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),s("el-form-item",{attrs:{label:"菜单名称",prop:"tableComment"}},[s("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}}),s("el-col",{attrs:{span:1.5}},[s("el-button",{attrs:{type:"info",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{label:"序号",align:"center",prop:"tableId",width:"50px"}}),s("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"130"}}),s("el-table-column",{attrs:{label:"菜单名称",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"130"}}),s("el-table-column",{attrs:{label:"模型名称",align:"center",prop:"className","show-overflow-tooltip":!0,width:"130"}}),s("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(s){return e.handleEditTable(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(s){return e.handlePreview(t.row)}}},[e._v("预览")]),s("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-view"},on:{click:function(s){return e.handleToProject(t.row)}},slot:"reference"},[e._v("代码生成")]),s("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-view"},on:{click:function(s){return e.handleToDB(t.row)}},slot:"reference"},[e._v("生成配置")]),s("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-view"},on:{click:function(s){return e.handleToApiFile(t.row)}},slot:"reference"},[e._v("生成迁移脚本")]),s("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(s){return e.handleSingleDelete(t.row)}},slot:"reference"},[e._v("删除")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),s("el-dialog",{staticClass:"preview",attrs:{title:e.preview.title,visible:e.preview.open,"close-on-click-modal":!1,fullscreen:""},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[s("div",{staticClass:"el-dialog-container"},[s("div",{staticClass:"tag-group"},e._l(e.preview.data,(function(t,a){return s("el-tag",{on:{click:function(t){return e.codeChange(a)}}},[[e._v(" "+e._s(a.substring(a.lastIndexOf("/")+1,a.indexOf(".go.template")))+" ")]],2)})),1),s("div",{attrs:{id:"codemirror"}},[s("codemirror",{ref:"cmEditor",attrs:{value:e.codestr,options:e.cmOptions}})],1)])]),s("import-table",{ref:"importTB",on:{ok:e.handleQuery}})]},proxy:!0}])})},r=[],n=(s("d81d"),s("14d9"),s("4aab")),i=s("bc04"),o=(s("4d63"),s("c607"),s("ac1f"),s("2c3e"),s("25f0"),s("5319"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("9861"),s("88a7"),s("271a"),s("5494"),s("bc3a"),s("5f87"),"");function l(e){var t=o+e,s=document.createElement("a");s.href=t,document.body.appendChild(s),s.click(),document.body.appendChild(s)}var c=s("8f94");s("d79d"),s("f9d4"),s("4ff4"),s("693d8");s("f9d4");var u={name:"Gen",components:{importTable:i["default"],codemirror:c["codemirror"]},data:function(){return{cmOptions:{tabSize:4,theme:"material-palenight",mode:"text/javascript",lineNumbers:!0,line:!0},codestr:"",loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,total:0,tableList:[],dateRange:"",queryParams:{pageIndex:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"api.go"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!==e&&e!==this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.data.list,e.total=t.data.count,e.loading=!1}))},codeChange:function(e){e.indexOf("js")>-1&&(this.cmOptions.mode="text/javascript"),(e.indexOf("model")>-1||e.indexOf("router")>-1||e.indexOf("api")>-1||e.indexOf("service")>-1||e.indexOf("dto")>-1)&&(this.cmOptions.mode="text/x-go"),e.indexOf("vue")>-1&&(this.cmOptions.mode="text/x-vue"),this.codestr=this.preview.data[e]},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},handleGenTable:function(e){var t=e.tableId||this.ids;""!==t?l("/api/v1/gen/gencode/"+t):this.msgError("请选择要生成的数据")},openImportTable:function(){this.$refs.importTB.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(n["h"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0,t.codeChange("template/api.go.template")}))},handleToProject:function(e){var t=this;Object(n["j"])(e.tableId,!1).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleToApiFile:function(e){var t=this;Object(n["a"])(e.tableId,!0).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleToDB:function(e){var t=this;Object(n["i"])(e.tableId).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!==e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push({path:"/dev-tools/editTable",query:{tableId:t}})},handleDelete:function(e){var t=this,s=e.tableId||this.ids;this.$confirm('是否确认删除表编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(s)})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleSingleDelete:function(e){var t=this,s=e.tableId||this.ids;Object(n["b"])(s).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},d=u,p=(s("1790"),s("7e67"),s("2877")),m=Object(p["a"])(d,a,r,!1,null,"11de1aef",null);t["default"]=m.exports},cb89:function(e,t,s){"use strict";s("385b")},cc0b:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s("b775");function r(){return Object(a["a"])({url:"/api/v1/server-monitor",method:"get"})}},cc6c:function(e,t,s){e.exports=s.p+"img/401.089007e7.gif"},ced4:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"todo",class:{completed:e.todo.done,editing:e.editing}},[s("div",{staticClass:"view"},[s("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:e.todo.done},on:{change:function(t){return e.toggleTodo(e.todo)}}}),s("label",{domProps:{textContent:e._s(e.todo.text)},on:{dblclick:function(t){e.editing=!0}}}),s("button",{staticClass:"destroy",on:{click:function(t){return e.deleteTodo(e.todo)}}})]),s("input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:e.editing,expression:"editing"}],staticClass:"edit",domProps:{value:e.todo.text},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doneEdit(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelEdit(t)}],blur:e.doneEdit}})])},r=[],n=(s("498a"),{name:"Todo",directives:{focus:function(e,t,s){var a=t.value,r=s.context;a&&r.$nextTick((function(){e.focus()}))}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(e){this.$emit("deleteTodo",e)},editTodo:function(e){var t=e.todo,s=e.value;this.$emit("editTodo",{todo:t,value:s})},toggleTodo:function(e){this.$emit("toggleTodo",e)},doneEdit:function(e){var t=e.target.value.trim(),s=this.todo;t?this.editing&&(this.editTodo({todo:s,value:t}),this.editing=!1):this.deleteTodo({todo:s})},cancelEdit:function(e){e.target.value=this.todo.text,this.editing=!1}}}),i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},d66d:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"}},[s("el-tab-pane",{attrs:{label:"系统内置"}},[s("el-form",{attrs:{"label-width":"80px"}},[s("div",{staticClass:"test-form"},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"100px"}},[s("el-form-item",{attrs:{label:"系统名称",prop:"sys_app_name"}},[s("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入系统名称",clearable:""},model:{value:e.form.sys_app_name,callback:function(t){e.$set(e.form,"sys_app_name",t)},expression:"form.sys_app_name"}})],1),s("el-form-item",{attrs:{label:"系统logo",prop:"sys_app_logo",required:""}},[e.form.sys_app_logo?s("img",{staticClass:"el-upload el-upload--picture-card",staticStyle:{float:"left"},attrs:{src:e.form.sys_app_logo}}):e._e(),s("el-upload",{ref:"sys_app_logo",staticStyle:{float:"left"},attrs:{headers:e.headers,"file-list":e.sys_app_logofileList,action:e.sys_app_logoAction,"before-upload":e.sys_app_logoBeforeUpload,"list-type":"picture-card","show-file-list":!1,"on-success":e.uploadSuccess}},[s("i",{staticClass:"el-icon-plus"})])],1),s("el-form-item",{attrs:{label:"初始密码",prop:"sys_user_initPassword"}},[s("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入初始密码",clearable:""},model:{value:e.form.sys_user_initPassword,callback:function(t){e.$set(e.form,"sys_user_initPassword",t)},expression:"form.sys_user_initPassword"}})],1),s("el-form-item",{attrs:{label:"皮肤样式",prop:"sys_index_skinName"}},[s("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择皮肤样式",clearable:""},model:{value:e.form.sys_index_skinName,callback:function(t){e.$set(e.form,"sys_index_skinName",t)},expression:"form.sys_index_skinName"}},e._l(e.sys_index_skinNameOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),s("el-form-item",{attrs:{label:"侧栏主题",prop:"sys_index_sideTheme"}},[s("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择侧栏主题",clearable:""},model:{value:e.form.sys_index_sideTheme,callback:function(t){e.$set(e.form,"sys_index_sideTheme",t)},expression:"form.sys_index_sideTheme"}},e._l(e.sys_index_sideThemeOptions,(function(e,t){return s("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),s("el-form-item",{attrs:{size:"large"}},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),s("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)])],1),s("el-tab-pane",{attrs:{label:"其他"}},[e._v("其他")])],1)],1)]},proxy:!0}])})},r=[],n=(s("d3b7"),s("159b"),s("cecf")),i=s("5f87"),o={name:"SysConfigSet",components:{},data:function(){return{loading:!0,configList:[],formConf:{},headers:{Authorization:"Bearer "+Object(i["a"])()},form:{sys_app_name:void 0,sys_app_logo:null,sys_user_initPassword:void 0,sys_index_skinName:void 0,sys_index_sideTheme:void 0},rules:{sys_app_name:[{required:!0,message:"请输入系统名称",trigger:"blur"}],sys_user_initPassword:[{required:!0,message:"请输入初始密码",trigger:"blur"}],sys_index_skinName:[{required:!0,message:"请选择皮肤样式",trigger:"change"}],sys_index_sideTheme:[{required:!0,message:"请选择侧栏主题",trigger:"change"}]},sys_app_logoAction:"/api/v1/public/uploadFile",sys_app_logofileList:[],sys_index_skinNameOptions:[{label:"蓝色",value:"skin-blue"}],sys_index_sideThemeOptions:[{label:"深色主题",value:"theme-dark"}]}},created:function(){this.getList()},methods:{submitForm:function(){var e=this;console.log(this.form),this.$refs["form"].validate((function(t){if(t){console.log(e.form);var s=[],a=0;for(var r in e.form)s[a]={configKey:r,configValue:e.form[r]},a++;Object(n["h"])(s).then((function(t){if(200===t.code){e.msgSuccess(t.msg),e.open=!1,e.getList();var s=e.form,a=s.sys_app_name,r=s.sys_app_logo;e.$store.commit("system/SET_INFO",{sys_app_logo:r,sys_app_name:a})}else e.msgError(t.msg)}))}}))},resetForm:function(){this.$refs["form"].resetFields()},sys_app_logoBeforeUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("文件大小超过 2MB"),t},uploadSuccess:function(e,t,s){console.log("sss"),this.form.sys_app_logo=""+e.data.full_path,console.log(e.data.full_path)},getList:function(){var e=this;this.loading=!0,Object(n["e"])().then((function(t){e.configList=t.data,e.loading=!1,e.form=e.configList}))},setUrl:function(e){var t={sys_app_logo:""};t.sys_app_logo=e,this.fillFormData(this.formConf,t),this.key2=+new Date},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},fillFormData:function(e,t){e.fields.forEach((function(e){var s=t[e.__vModel__];s&&(e.__config__.defaultValue=s)}))},bind:function(e,t){this.setUrl(t)},sumbitForm2:function(e){var t=this,s=[],a=0;for(var r in e)s[a]={configKey:r,configValue:e[r]},a++;Object(n["h"])(s).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)}))}}},l=o,c=s("2877"),u=Object(c["a"])(l,a,r,!1,null,null,null);t["default"]=u.exports},d689:function(e,t,s){},d817:function(e,t,s){},d8c6:function(e,t,s){},e0ee:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"创建时间"}},[s("el-date-picker",{attrs:{size:"small",type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysOperLog:remove"],expression:"['admin:sysOperLog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysOperLog:export"],expression:"['admin:sysOperLog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,border:""},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"编号",width:"70",prop:"id"}}),s("el-table-column",{attrs:{label:"Request info",prop:"operUrl"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",[e._v("Request: "),"GET"==t.row.requestMethod?s("el-tag",[e._v(e._s(t.row.requestMethod))]):e._e(),"POST"==t.row.requestMethod?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"PUT"==t.row.requestMethod?s("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"DELETE"==t.row.requestMethod?s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.requestMethod))]):e._e(),e._v(" "+e._s(t.row.operUrl)+" ")],1),s("p",[e._v("Host: "+e._s(t.row.operIp))]),s("p",[e._v("Location: "+e._s(t.row.operLocation))]),s("p",[e._v("耗时: "+e._s(t.row.latencyTime))]),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["GET"==t.row.requestMethod?s("el-tag",[e._v(e._s(t.row.requestMethod))]):e._e(),"POST"==t.row.requestMethod?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"PUT"==t.row.requestMethod?s("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"DELETE"==t.row.requestMethod?s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.requestMethod))]):e._e(),e._v(" "+e._s(t.row.operUrl)+" ")],1)])]}}])}),s("el-table-column",{attrs:{label:"操作人员",prop:"operName",width:"160","show-overflow-tooltip":!0}}),s("el-table-column",{attrs:{label:"状态",prop:"status",width:"80","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["2"==t.row.status?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.statusFormat(t.row,t.row.status)))]):e._e(),"1"==t.row.status?s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.statusFormat(t.row,t.row.status)))]):e._e()]}}])}),s("el-table-column",{attrs:{label:"操作日期",prop:"operTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.operTime)))])]}}])}),s("el-table-column",{attrs:{label:"操作",width:"80","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysOperLog:query"],expression:"['admin:sysOperLog:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(s){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),s("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"请求地址："}},[e._v(e._s(e.form.operUrl))])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"耗时："}},[e._v(e._s(e.form.latencyTime))])],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"操作状态："}},["2"===e.form.status?s("div",[e._v("正常")]):"1"===e.form.status?s("div",[e._v("关闭")]):e._e()])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.parseTime(e.form.operTime)))])],1),s("el-col",{attrs:{span:24}},[1===e.form.status?s("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.errorMsg))]):e._e()],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("d3b7"),s("3ca3"),s("ddb0"),s("b775"));function i(){return Object(n["a"])({url:"/api/v1/operlog/clean",method:"delete"})}function o(e){return Object(n["a"])({url:"/api/v1/sys-opera-log",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/api/v1/sys-opera-log",method:"delete",data:e})}var c=s("ed08"),u={name:"SysOperLogManage",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],open:!1,statusOptions:[],dateRange:[],form:{},queryParams:{pageIndex:1,pageSize:10,title:void 0,operName:void 0,businessType:void 0,status:void 0,createdAtOrder:"desc"}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除日志编号为"'+s+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l({ids:s})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return i()})).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([s.e("chunk-7804fb46"),s.e("chunk-2d0cc0b6")]).then(s.bind(null,"4bf8")).then((function(t){var s=["日志编号","系统模块","操作类型","请求方式","操作人员","主机","操作地点","操作状态","操作url","操作日期"],a=["ID","title","businessType","method","operName","operIp","operLocation","status","operUrl","operTime"],r=e.list,n=Object(c["c"])(a,r);t.export_json_to_excel({header:s,data:n,filename:"操作日志",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},d=u,p=s("2877"),m=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},e121:function(e,t,s){},e206:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name","string"===typeof t?t.trim():t)},expression:"user.name"}})],1),s("el-form-item",{attrs:{label:"Email"}},[s("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Update")])],1)],1)},r=[],n={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},methods:{submit:function(){this.$message({message:"User information has been updated successfully",type:"success",duration:5e3})}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},e22a:function(e,t,s){},ebe1:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"inline-block"}},[s("label",{staticClass:"radio-label"},[e._v("Book Type: ")]),s("el-select",{staticStyle:{width:"120px"},model:{value:e.bookType,callback:function(t){e.bookType=t},expression:"bookType"}},e._l(e.options,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)},r=[],n={props:{value:{type:String,default:"xlsx"}},data:function(){return{options:["xlsx","csv","txt"]}},computed:{bookType:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},ec4e:function(e,t,s){},ecac:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:6,xs:24}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("个人信息")])]),s("div",[s("div",{staticClass:"text-center"},[s("userAvatar",{attrs:{user:e.user}})],1),s("ul",{staticClass:"list-group list-group-striped"},[s("li",{staticClass:"list-group-item"},[s("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称 "),s("div",{staticClass:"pull-right"},[e._v(e._s(e.user.username))])],1),s("li",{staticClass:"list-group-item"},[s("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码 "),s("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phone))])],1),s("li",{staticClass:"list-group-item"},[s("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱 "),s("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),s("li",{staticClass:"list-group-item"},[s("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("所属部门 "),s("div",{staticClass:"pull-right"},[e._v(e._s(e.deptName))])],1),s("li",{staticClass:"list-group-item"},[s("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("所属角色 "),s("div",{staticClass:"pull-right"},[e._v(e._s(e.roleName))])],1),s("li",{staticClass:"list-group-item"},[s("svg-icon",{attrs:{"icon-class":"date"}}),e._v("创建日期 "),s("div",{staticClass:"pull-right"},[e._v(e._s(e.user.createdAt))])],1)])])])],1),s("el-col",{attrs:{span:18,xs:24}},[s("el-card",[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("基本资料")])]),s("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[s("userInfo",{attrs:{user:e.user}})],1),s("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[s("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)]},proxy:!0}])})},r=[],n=s("88c9"),i=s("2dde"),o=s("3823"),l=s("51fa"),c={name:"Profile",components:{userAvatar:n["default"],userInfo:i["default"],resetPwd:o["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},deptGroup:{},activeTab:"userinfo",roleIds:void 0,postIds:void 0,roleName:void 0,postName:void 0,dept:{},deptName:void 0}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(l["f"])().then((function(t){if(e.user=t.data.user,e.roleIds=t.data.user.roleIds,e.roleGroup=t.data.roles,e.roleIds[0])for(var s in e.roleGroup)e.roleIds[0]===e.roleGroup[s].roleId&&(e.roleName=e.roleGroup[s].roleName);else e.roleName="暂无";e.dept=t.data.user.dept,e.deptName=e.dept.deptName}))}}},u=c,d=(s("9d0f"),s("2877")),p=Object(d["a"])(u,a,r,!1,null,"4d2cf9be",null);t["default"]=p.exports},ef3c:function(e,t,s){"use strict";s.r(t);s("ac1f"),s("5319");var a,r,n={created:function(){var e=this.$route,t=e.params,s=e.query,a=t.path;this.$router.replace({path:"/"+a,query:s})},render:function(e){return e()}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},f2b7:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"菜单名称"}},[s("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),s("el-form-item",{attrs:{label:"状态"}},[s("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.visible,callback:function(t){e.$set(e.queryParams,"visible",t)},expression:"queryParams.visible"}},e._l(e.visibleOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:add"],expression:"['admin:sysMenu:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,border:"","row-key":"menuId","tree-props":{children:"children",hasChildren:"hasChildren"}}},[s("el-table-column",{attrs:{prop:"title",label:"菜单名称","show-overflow-tooltip":!0,width:"180px"}}),s("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),s("el-table-column",{attrs:{prop:"sort",label:"排序",width:"60px"}}),s("el-table-column",{attrs:{prop:"permission",label:"权限标识","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sysApi.length>0?s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.sysApi,border:""}},[s("el-table-column",{attrs:{prop:"title",label:"title",width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return["SYS"==t.row.type&&""!=t.row.title?s("span",[s("el-tag",{attrs:{type:"success"}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),"SYS"!=t.row.type&&""!=t.row.title?s("span",[s("el-tag",{attrs:{type:""}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),""==t.row.title?s("span",[s("el-tag",{attrs:{type:"danger"}},[e._v("暂无")])],1):e._e()]}}],null,!0)}),s("el-table-column",{attrs:{prop:"path",label:"path",width:"270px"},scopedSlots:e._u([{key:"default",fn:function(t){return["GET"==t.row.action?s("el-tag",[e._v(e._s(t.row.action))]):e._e(),"POST"==t.row.action?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.action))]):e._e(),"PUT"==t.row.action?s("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.action))]):e._e(),"DELETE"==t.row.action?s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.action))]):e._e(),e._v(" "+e._s(t.row.path)+" ")]}}],null,!0)})],1),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[""==t.row.permission?s("span",[e._v("-")]):s("span",[e._v(e._s(t.row.permission))])])],1):s("span",[""==t.row.permission?s("span",[e._v("-")]):s("span",[e._v(e._s(t.row.permission))])])]}}])}),s("el-table-column",{attrs:{prop:"path",label:"组件路径","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["A"==t.row.menuType?s("span",[e._v(e._s(t.row.path))]):s("span",[e._v(e._s(t.row.component))])]}}])}),s("el-table-column",{attrs:{prop:"visible",label:"可见",formatter:e.visibleFormat,width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:"1"===t.row.visible?"danger":"success","disable-transitions":""}},[e._v(e._s(e.visibleFormat(t.row)))])]}}])}),s("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:edit"],expression:"['admin:sysMenu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}}},[e._v("修改")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:add"],expression:"['admin:sysMenu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(s){return e.handleAdd(t.row)}}},[e._v("新增")]),s("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:remove"],expression:"['admin:sysMenu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),s("el-drawer",{ref:"drawer",attrs:{title:e.title,"before-close":e.cancel,visible:e.open,direction:"rtl","custom-class":"demo-drawer",size:"830px"},on:{"update:visible":function(t){e.open=t}}},[s("div",{staticClass:"demo-drawer__content"},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top","label-width":"106px"}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"parentId"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 上级菜单 "),s("el-tooltip",{attrs:{content:"指当前菜单停靠的菜单归属",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"title"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单标题 "),s("el-tooltip",{attrs:{content:"菜单位置显示的说明信息",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请输入菜单标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"sort"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 显示排序 "),s("el-tooltip",{attrs:{content:"根据序号升序排列",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"menuType"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单类型 "),s("el-tooltip",{attrs:{content:"包含目录：以及菜单或者菜单组，菜单：具体对应某一个页面，按钮：功能才做按钮；",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[s("el-radio",{attrs:{label:"M"}},[e._v("目录")]),s("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),s("el-radio",{attrs:{label:"F"}},[e._v("按钮")])],1)],1)],1),s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"菜单图标"}},[s("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[s("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),s("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?s("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):s("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1)],1),s("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?s("el-form-item",{attrs:{prop:"menuName"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 路由名称 "),s("el-tooltip",{attrs:{content:"需要和页面name保持一致，对应页面即可选择缓存",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请输入路由名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1):e._e()],1),"M"==e.form.menuType||"C"==e.form.menuType?s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{prop:"component"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 组件路径 "),s("el-tooltip",{attrs:{content:"菜单对应的具体vue页面文件路径views的下级路径/admin/sys-api/index；目录类型：填写Layout，如何有二级目录请参照日志目录填写；",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),s("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?s("el-form-item",[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 是否外链 "),s("el-tooltip",{attrs:{content:"可以通过iframe打开指定地址",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[s("el-radio",{attrs:{label:"0"}},[e._v("是")]),s("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),s("el-col",{attrs:{span:12}},["F"!=e.form.menuType?s("el-form-item",{attrs:{prop:"path"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 路由地址 "),s("el-tooltip",{attrs:{content:"访问此页面自定义的url地址，建议/开头书写，例如 /app-name/menu-name",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),s("el-col",{attrs:{span:12}},["F"==e.form.menuType||"C"==e.form.menuType?s("el-form-item",[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 权限标识 "),s("el-tooltip",{attrs:{content:"前端权限控制按钮是否显示",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-input",{attrs:{placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1):e._e()],1),s("el-col",{attrs:{span:12}},["F"!=e.form.menuType?s("el-form-item",[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单状态 "),s("el-tooltip",{attrs:{content:"需要显示在菜单列表的菜单设置为显示，否则设置为隐藏",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e()],1),s("el-col",{attrs:{span:24}},["F"==e.form.menuType||"C"==e.form.menuType?s("el-form-item",[s("span",{attrs:{slot:"label"},slot:"label"},[e._v(" api权限 "),s("el-tooltip",{attrs:{content:"配置在这个才做上需要使用到的接口，否则在设置用户角色时，接口将无权访问。",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1),s("el-transfer",{staticClass:"panel",staticStyle:{"text-align":"left",display:"inline-block"},attrs:{filterable:"",props:{key:"id",label:"title"},titles:["未授权","已授权"],"button-texts":["收回","授权 "],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:e.sysapiList},on:{change:e.handleChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option;return s("span",{},[e._v(e._s(a.title))])}}],null,!1,3352842312),model:{value:e.form.apis,callback:function(t){e.$set(e.form,"apis",t)},expression:"form.apis"}})],1):e._e()],1)],1)],1),s("div",{staticClass:"demo-drawer__footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)])],1)]},proxy:!0}])})},r=[],n=(s("14d9"),s("5f141")),i=s("95b0"),o=s("ca17"),l=s.n(o),c=(s("542c"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"icon-body"},[s("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[s("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),s("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,a){return s("div",{key:a,on:{click:function(s){return e.selectedIcon(t)}}},[s("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),s("span",[e._v(e._s(t))])],1)})),0)],1)}),u=[],d=(s("b0c0"),s("4de4"),s("d3b7"),s("caad"),s("2532"),s("ddb0"),s("d81d"),s("ac1f"),s("466d"),s("51ff")),p=function(e){return e.keys()},m=/\.\/(.*)\.svg/,f=p(d).map((function(e){return e.match(m)[1]})),h=f,v={name:"IconSelect",data:function(){return{name:"",iconList:h}},methods:{filterIcons:function(){var e=this;this.name?this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})):this.iconList=h},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=h}}},g=v,b=(s("6efe"),s("2877")),y=Object(b["a"])(g,c,u,!1,null,"29eae0d6",null),w=y.exports,_={name:"SysMenuManage",components:{Treeselect:l.a,IconSelect:w},data:function(){return{loading:!0,menuList:[],sysapiList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],queryParams:{title:void 0,visible:void 0},form:{apis:[],sysApi:[]},rules:{title:[{required:!0,message:"菜单标题不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getApiList(),this.getDicts("sys_show_hide").then((function(t){e.visibleOptions=t.data}))},methods:{handleChange:function(e,t,s){console.log(e,t,s);var a=this.form.sysApi;if(this.form.apis=e,"right"===t){for(var r=0;r<s.length;r++)for(var n=0;n<this.sysapiList.length;n++){var i=this.sysapiList[n];if(i.id===s[r]){a.push(i);break}}this.form.sysApi=a}else if("left"===t){for(var o=[],l=0;l<s.length;l++)for(var c=s[l],u=0;u<a.length;u++){var d=a[u];if(c!==d.id){o.push();break}}this.form.sysApi=o}console.log(this.form.sysApi)},getApiList:function(){var e=this;this.loading=!0,Object(i["d"])({pageSize:1e4,type:"BUS"}).then((function(t){e.sysapiList=t.data.list,e.loading=!1}))},handleClose:function(e){},selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.menuList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.title,children:e.children}},getTreeselect:function(){var e=this;Object(n["d"])().then((function(t){e.menuOptions=[];var s={menuId:0,title:"主类目",children:[]};s.children=t.data,e.menuOptions.push(s)}))},visibleFormat:function(e){return"F"===e.menuType?"-- --":this.selectDictLabel(this.visibleOptions,e.visible)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",apis:[],sort:0,action:"A"===this.form.menuType?this.form.action:"",isFrame:"1",visible:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.menuId),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(n["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},setApis:function(e){for(var t=[],s=0;s<e.length;s++){var a=e[s];t.push(a.id)}this.form.apis=t},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.menuId?Object(n["f"])(e.form,e.form.menuId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.title+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.menuId&&[e.menuId]||this.ids;return Object(n["b"])({ids:t})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},S=_,x=(s("fafe"),Object(b["a"])(S,a,r,!1,null,null,null));t["default"]=x.exports},f551:function(e,t,s){"use strict";s.d(t,"f",(function(){return r})),s.d(t,"g",(function(){return n})),s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return o})),s.d(t,"h",(function(){return l})),s.d(t,"b",(function(){return c})),s.d(t,"e",(function(){return u})),s.d(t,"d",(function(){return d})),s.d(t,"k",(function(){return p})),s.d(t,"i",(function(){return m})),s.d(t,"j",(function(){return f})),s.d(t,"l",(function(){return h}));var a=s("b775");function r(e){return Object(a["a"])({url:"/api/v1/vpn-server",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/api/v1/vpn-server/getPage2",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/api/v1/vpn-server/"+e,method:"get"})}function o(e){return Object(a["a"])({url:"/api/v1/vpn-server",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/api/v1/vpn-server/"+e.id,method:"put",data:e})}function c(e){return Object(a["a"])({url:"/api/v1/vpn-server",method:"delete",data:e})}function u(e){return Object(a["a"])({url:"/api/v1/vpn-server/log/"+e,method:"post"})}function d(e){return Object(a["a"])({url:"/api/v1/vpn-server/details/"+e,method:"post"})}function p(e){return Object(a["a"])({url:"/api/v1/vpn-server/restart/"+e,method:"post"})}function m(e){return Object(a["a"])({url:"/api/v1/vpn-server2/reboot/"+e,method:"post"})}function f(e){return Object(a["a"])({url:"/api/v1/vpn-server2/reboots",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/api/v1/vpn-server2/restarts",method:"post",data:e})}},f75c:function(e,t,s){},fafe:function(e,t,s){"use strict";s("fe84")},fb8d:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block"},[s("el-timeline",e._l(e.timeline,(function(t,a){return s("el-timeline-item",{key:a,attrs:{timestamp:t.timestamp,placement:"top"}},[s("el-card",[s("h4",[e._v(e._s(t.title))]),s("p",[e._v(e._s(t.content))])])],1)})),1)],1)},r=[],n={data:function(){return{timeline:[{timestamp:"2019/4/20",title:"Update Github template",content:"PanJiaChen committed 2019/4/20 20:46"},{timestamp:"2019/4/21",title:"Update Github template",content:"PanJiaChen committed 2019/4/21 20:46"},{timestamp:"2019/4/22",title:"Build Template",content:"PanJiaChen committed 2019/4/22 20:46"},{timestamp:"2019/4/23",title:"Release New Version",content:"PanJiaChen committed 2019/4/23 20:46"}]}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},fba8:function(e,t,s){"use strict";s("bb21")},fc60:function(e,t,s){"use strict";s("065b")},fce1:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[s("el-card",{staticClass:"box-card"},[s("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"服务器",prop:"serverId"}},[s("el-select",{attrs:{placeholder:"请选择",clearable:"",size:"small"},model:{value:e.queryParams.serverId,callback:function(t){e.$set(e.queryParams,"serverId",t)},expression:"queryParams.serverId"}},e._l(e.serverIdOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),s("el-form-item",{attrs:{label:"协议",prop:"protocol"}},[s("el-select",{attrs:{placeholder:"节点管理协议",clearable:"",size:"small"},model:{value:e.queryParams.protocol,callback:function(t){e.$set(e.queryParams,"protocol",t)},expression:"queryParams.protocol"}},e._l(e.protocolOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-select",{attrs:{placeholder:"节点管理状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),s("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),s("el-row",{staticClass:"mb8",attrs:{gutter:10}},[s("el-col",{attrs:{span:1.5}},[s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1),s("el-col",{attrs:{span:1.5}},[s("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",disabled:e.multiple},on:{click:e.tickets}},[e._v("导出文本 ")])],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.vpnNodeList},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{label:"操作",width:"180",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(s){return e.handleCheck(t.row)}},slot:"reference"},[e._v("查看 ")]),s("el-button",{attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleUpdate(t.row)}},slot:"reference"},[e._v("修改 ")])]}}])}),s("el-table-column",{attrs:{label:"用户备注",align:"center",prop:"other",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.other,placement:"top"}},[s("div",{staticClass:"text-ellipsis",staticStyle:{width:"200px"}},[e._v(e._s(t.row.other))])])]}}])}),s("el-table-column",{attrs:{label:"服务器",align:"center",prop:"serverId",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.serverIdFormat(t.row),placement:"top"}},[s("div",{staticClass:"text-ellipsis",staticStyle:{width:"150px"}},[e._v(e._s(e.serverIdFormat(t.row)))])])]}}])}),s("el-table-column",{attrs:{label:"流量↑|↓",align:"center",prop:"up","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(e.sizeFormat(t.row.up)+"/"+e.sizeFormat(t.row.down)))])]}}])}),s("el-table-column",{attrs:{label:"端口",align:"center",prop:"transitPort","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(t.row.transitPort||t.row.port||"生成中..."))])]}}])}),s("el-table-column",{attrs:{label:"出口IP",align:"center",prop:"outputListen",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(t.row.outputListen||"默认主IP"))])]}}])}),s("el-table-column",{attrs:{label:"协议",align:"center",prop:"protocol","show-overflow-tooltip":!0,formatter:e.protocolFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.protocolFormat(t.row))+" ")]}}])}),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:1==t.row.status?"success":"danger"}},[e._v(e._s(e.statusFormat(t.row)))])]}}])})],1),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e.open?s("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"85px"}},[e.isGroup?e._e():s("el-form-item",{attrs:{label:"备注",prop:"other"}},[s("el-input",{ref:"otherInput",attrs:{placeholder:e.serverIdToIPFormat(e.form.serverId)},model:{value:e.form.other,callback:function(t){e.$set(e.form,"other",t)},expression:"form.other"}})],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:13}},[s("el-form-item",{attrs:{label:"服务器",prop:"serverId"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.form.serverId,callback:function(t){e.$set(e.form,"serverId",t)},expression:"form.serverId"}},e._l(e.serverIdOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e.isGroup?e._e():s("el-col",{attrs:{span:11}},[s("el-form-item",{attrs:{label:"监听端口",prop:"port"}},[s("el-input",{attrs:{disabled:"",type:"number",placeholder:"留空自动生成"},model:{value:e.form.port,callback:function(t){e.$set(e.form,"port",t)},expression:"form.port"}})],1)],1)],1),e.isGroup?e._e():s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:13}},[s("el-form-item",{attrs:{label:"指定出口",prop:"outputListen"}},[s("el-switch",{staticStyle:{width:"60%"},attrs:{disabled:"","active-value":-1,"inactive-value":1},model:{value:e.form.outputAuto,callback:function(t){e.$set(e.form,"outputAuto",e._n(t))},expression:"form.outputAuto"}})],1)],1),-1==e.form.outputAuto?s("el-col",{attrs:{span:11}},[s("el-form-item",{attrs:{label:"出口IP",prop:"outputListen"}},[s("el-input",{staticStyle:{width:"60%"},attrs:{disabled:"",placeholder:""},model:{value:e.form.outputListen,callback:function(t){e.$set(e.form,"outputListen",t)},expression:"form.outputListen"}})],1)],1):e._e()],1),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:13}},[s("el-form-item",{attrs:{label:"中转IP",prop:"transitServerId"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.form.transitServerId,callback:function(t){e.$set(e.form,"transitServerId",t)},expression:"form.transitServerId"}},e._l(e.transitServerIdOptions,(function(e){return s("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),s("el-col",{attrs:{span:11}},[e.form.transitServerId>0?s("el-form-item",{attrs:{label:"中转端口",prop:"transitPort"}},[s("el-input",{attrs:{disabled:"",placeholder:"中转端口"},model:{value:e.form.transitPort,callback:function(t){e.$set(e.form,"transitPort",t)},expression:"form.transitPort"}})],1):e._e()],1)],1),s("el-form-item",{attrs:{label:"协议",prop:"protocol"}},[s("el-select",{staticStyle:{width:"40%"},attrs:{disabled:"",placeholder:"请选择"},model:{value:e.form.protocol,callback:function(t){e.$set(e.form,"protocol",t)},expression:"form.protocol"}},e._l(e.protocolOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1):e._e(),e.info?s("el-dialog",{attrs:{title:e.title,visible:e.info,width:"600px"},on:{"update:visible":function(t){e.info=t}}},[s("div",[s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:14}},[s("p",[e._v("备注: "),s("el-tag",[e._v(e._s(e.form.other||e.serverIdToNameFormat(e.form.serverId)))])],1),s("p",[e._v("协议: "),s("el-tag",[e._v(e._s(e.form.protocol))])],1),parseInt(e.form.transitServerId)>0?s("p",[e._v("中转: "),s("el-tag",[e._v(e._s(e.serverIdToIPFormat(e.form.transitServerId)+"->"+e.serverIdToIPFormat(e.form.serverId)))])],1):e._e(),s("p",[e._v("地址: "),s("el-tag",[e._v(e._s(e.serverIdToIPFormat(e.form.transitServerId||e.form.serverId)))])],1),s("p",[e._v("端口: "),s("el-tag",[e._v(e._s(e.form.transitPort||e.form.port))])],1),"vmess"==e.form.protocol?[s("p",[e._v("uuid: "),s("el-tag",[e._v(e._s(e.form.settings.clients[0].id))])],1),s("p",[e._v("alterId: "),s("el-tag",[e._v(e._s(e.form.settings.clients[0].alterId))])],1)]:e._e(),"vless"==e.form.protocol?[s("p",[e._v("uuid: "),s("el-tag",[e._v(e._s(e.form.settings.clients[0].id))])],1)]:e._e(),"shadowsocks"==e.form.protocol?[s("p",[e._v("加密: "),s("el-tag",[e._v(e._s(e.form.settings.method))])],1),s("p",[e._v("密码: "),s("el-tag",[e._v(e._s(e.form.settings.password))])],1)]:e._e(),"socks"==e.form.protocol||"http"==e.form.protocol?[s("p",[e._v("用户名: "),s("el-tag",[e._v(e._s(e.form.settings.accounts[0].user))])],1),s("p",[e._v("密码: "),s("el-tag",[e._v(e._s(e.form.settings.accounts[0].pass))])],1)]:e._e()],2),"vless"==e.form.protocol||"shadowsocks"==e.form.protocol||"vmess"==e.form.protocol?s("el-col",{attrs:{span:10}},[s("vue-qr",{attrs:{text:e.form.importContent,size:200}})],1):e._e()],1)],1),"vless"==e.form.protocol||"shadowsocks"==e.form.protocol||"vmess"==e.form.protocol?s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.copyText(e.form.importContent)}}},[e._v("复制")])],1):e._e()]):e._e()],1)]},proxy:!0}])})},r=[],n=(s("d81d"),s("b64b"),s("3bed")),i=s("f551"),o=s("658f5"),l=s.n(o),c=s("ed08"),u={components:{vueQr:l.a},data:function(){return{loading:!0,ids:[],ticketsData:[],single:!0,multiple:!0,total:0,title:"",open:!1,isGroup:!1,info:!1,isEdit:!1,typeOptions:[],vpnNodeList:[],protocolOptions:[],statusOptions:[],serverIdOptions:[],serverIdToIpOptions:[],serverIdToNameOptions:[],transitServerIdOptions:[],transitServerIdToIpOptions:[],queryParams:{pageIndex:1,pageSize:10,transitServerId:void 0,serverId:void 0,protocol:void 0,other:void 0,status:void 0,outputAuto:1},form:{},rules:{serverId:[{required:!0,message:"服务器不能为空",trigger:"blur"}],protocol:[{required:!0,message:"协议不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getVpnServerItems(),this.getTransitServerIdFormat(),this.getDicts("vpn_protocol").then((function(t){e.protocolOptions=t.data})),this.getDicts("common_o").then((function(t){e.statusOptions=t.data}))},methods:{updateSettings:function(e){console.log(e),this.form.settings=e},updateStreamSettings:function(e){console.log(e),this.form.streamSettings=e},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.vpnNodeList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.isGroup=!1,this.form={id:void 0,transitServerId:void 0,transitPort:void 0,serverId:void 0,outputListen:void 0,port:void 0,protocol:void 0,settings:{},streamSettings:{},sniffing:"",other:void 0,importContent:void 0},this.resetForm("form")},getImgList:function(){this.form[this.fileIndex]=this.$refs["fileChoose"].resultList[0].fullUrl},fileClose:function(){this.fileOpen=!1},sizeFormat:function(e){return Object(c["i"])(e)},serverIdFormat:function(e){var t=e.serverId;return this.selectItemsLabel(this.serverIdOptions,t)},transitServerIdFormat:function(e){return this.selectItemsLabel(this.transitServerIdOptions,e)},serverIdToIPFormat:function(e){return this.selectItemsLabel(this.serverIdToIpOptions,e)},serverIdToNameFormat:function(e){return this.selectItemsLabel(this.serverIdToNameOptions,e)},transitServerIdToIPFormat:function(e){return this.selectItemsLabel(this.transitServerIdToIpOptions,e)},protocolFormat:function(e){return this.selectDictLabel(this.protocolOptions,e.protocol)},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},getVpnServerItems:function(){var e=this;this.getItems(i["f"],{status:1}).then((function(t){e.serverIdOptions=e.setItems(t,"id",["serverName","serverIp","area","nodes"]),e.serverIdToIpOptions=e.setItems(t,"id","serverIp"),e.serverIdToNameOptions=e.setItems(t,"id",["serverName","area"])}))},getTransitServerIdFormat:function(){var e=this;this.getItems(i["f"],{isAdsl:-1}).then((function(t){e.transitServerIdOptions=e.setItems(t,"id",["serverName","serverIp","area"]),e.transitServerIdToIpOptions=e.setItems(t,"id","serverIp")}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加节点管理",this.isEdit=!1},handleAdds:function(){this.reset(),this.open=!0,this.isGroup=!0,this.title="多IP服务器添加节点管理",this.isEdit=!1},handleSelectionChange:function(e){this.ticketsData=e,this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleCheck:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["e"])(s).then((function(e){console.log(e);var s=t.form.settings;e.data.settings.length>0&&(s=JSON.parse(e.data.settings)),e.data.settings=s;var a=t.form.streamSettings;e.data.streamSettings.length>0&&(a=JSON.parse(e.data.streamSettings)),e.data.streamSettings=a,e.data.serverId=e.data.serverId||"",e.data.serverId+="",e.data.transitServerId=e.data.transitServerId||"",e.data.transitServerId+="",t.form=e.data,console.log(t.form),t.info=!0,t.title="节点配置"}))},handleUpdate:function(e){var t=this;this.reset();var s=e.id||this.ids;Object(n["e"])(s).then((function(e){var s=t.form.settings;e.data.settings.length>0&&(s=JSON.parse(e.data.settings)),e.data.settings=s;var a=t.form.streamSettings;e.data.streamSettings.length>0&&(a=JSON.parse(e.data.streamSettings)),e.data.streamSettings=a,e.data.serverId=e.data.serverId||"",e.data.serverId+="",e.data.transitServerId=e.data.transitServerId||"",e.data.transitServerId+="",t.form=e.data,t.open=!0,t.title="修改节点管理",t.isEdit=!0}))},copyText:function(e){var t=this;navigator.clipboard?navigator.clipboard.writeText(e).then((function(){t.msgSuccess("复制成功")})).catch((function(e){console.log(e),t.msgError("复制失败")})):this.msgError("复制失败")},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(e.form.port+="",e.form.transitPort+="",void 0===e.form.other||0===e.form.other.length){var s=e.$refs.otherInput.$el.querySelector("input");console.log("Placeholder:",s.placeholder),e.form.other=s.placeholder}t&&(void 0!==e.form.id?Object(n["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):e.isGroup?Object(n["b"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,s=e.id&&[e.id]||this.ids;Object(n["d"])({ids:s}).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)}))},tickets:function(){var e="";for(var t in this.ticketsData)e+=this.ticketsData[t].importContent+"\n";var s="array.txt",a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),a.setAttribute("download",s),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},d=u,p=s("2877"),m=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},fe22:function(e,t,s){"use strict";s("8a81")},fe84:function(e,t,s){}}]);